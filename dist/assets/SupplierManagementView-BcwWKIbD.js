import{_ as at,r as u,o as ot,S as b,c as z,b as r,d as t,t as n,w as f,v as _,m as D,g as L,F as O,h as U,f as A,i as d,e as Q,n as $}from"./index-BJk99QVQ.js";const lt={class:"w-100 d-flex flex-column gap-6 p-5 bg-light-primary rounded-4 overflow-auto"},nt={class:"row g-4"},it={class:"col-6 col-md-3"},rt={class:"card bg-light-success border-0 shadow-sm"},dt={class:"card-body p-4 text-center"},ct={class:"fw-bold fs-2 text-dark"},ut={class:"col-6 col-md-3"},pt={class:"card bg-light-primary border-0 shadow-sm"},ft={class:"card-body p-4 text-center"},mt={class:"fw-bold fs-2 text-dark"},vt={class:"col-6 col-md-3"},bt={class:"card bg-light-warning border-0 shadow-sm"},gt={class:"card-body p-4 text-center"},ht={class:"fw-bold fs-2 text-dark"},yt={class:"col-6 col-md-3"},St={class:"card bg-light-info border-0 shadow-sm"},xt={class:"card-body p-4 text-center"},wt={class:"fw-bold fs-2 text-dark"},kt={class:"d-flex flex-column gap-4"},_t={class:"row g-3"},At={class:"col-md-6"},It={class:"col-md-6"},Tt={key:0,class:"text-center py-10"},Ct={key:1,class:"text-center py-10"},Et={key:2,class:"row g-5"},Nt={class:"card shadow-sm bg-light-secondary rounded-4 border-0 h-100"},Dt={class:"card-body p-5 d-flex flex-column gap-4"},$t={class:"d-flex justify-content-between align-items-start gap-3"},Pt={class:"flex-grow-1"},Bt={class:"d-flex align-items-center gap-2 mb-2"},Vt={class:"text-dark fw-bold fs-3 mb-0"},Gt={key:0,class:"badge badge-light-primary fs-8 fw-bold"},Mt={class:"text-muted fs-7"},jt={class:"text-muted fs-8"},Lt={class:"d-flex flex-column gap-1"},Ot={class:"d-flex gap-1"},Ut=["onClick"],Ft=["onClick"],Jt=["onClick"],zt={class:"d-flex flex-column gap-2 text-gray-700 fs-6"},Qt={class:"d-flex align-items-center gap-2"},Ht=["href"],Wt={class:"d-flex align-items-center gap-2"},Zt=["href"],Kt={class:"d-flex align-items-center gap-2"},Rt={class:"text-gray-600"},qt={class:"d-flex flex-column gap-3"},Xt={class:"d-flex align-items-center justify-content-between"},Yt={class:"badge badge-light-info fs-8"},ts={key:0,class:"alert alert-primary py-2 px-3"},ss={key:1,class:"d-flex flex-wrap gap-1"},es={key:0,class:"badge badge-light-warning fs-8"},as={key:2,class:"text-muted fs-8 fst-italic"},os={class:"mt-auto"},ls={class:"modal fade modal-fullscreen",id:"supplierModal",tabindex:"-1"},ns={class:"modal-dialog modal-dialog-centered"},is={class:"modal-content p-5"},rs={class:"d-flex justify-content-between align-items-center mb-5"},ds={class:"fw-bold fs-2 mb-0"},cs={class:"d-flex flex-column gap-4"},us={class:"row g-4"},ps={class:"col-12"},fs={class:"col-md-6"},ms={class:"col-md-6"},vs={class:"col-md-6"},bs={class:"col-md-6"},gs={class:"col-12"},hs={class:"col-md-6"},ys={class:"col-md-6"},Ss={class:"d-flex flex-column gap-3 pt-5"},xs=["data-kt-indicator"],ws={class:"indicator-label"},ks={class:"modal fade modal-fullscreen",id:"stationModal",tabindex:"-1"},_s={class:"modal-dialog modal-dialog-centered"},As={class:"modal-content p-5"},Is={class:"d-flex justify-content-between align-items-center mb-5"},Ts={class:"text-muted fs-6 mb-0"},Cs={key:0,class:"alert alert-primary"},Es={key:1,class:"d-flex flex-column gap-5"},Ns={class:"row g-4",style:{"max-height":"400px","overflow-y":"auto"}},Ds={class:"card-body p-4"},$s={class:"d-flex justify-content-between align-items-center"},Ps={class:"flex-grow-1"},Bs={class:"fw-bold text-dark mb-1"},Vs={class:"text-muted fs-7 mb-2"},Gs={class:"form-check form-switch form-check-custom form-check-solid"},Ms=["checked","onChange"],js={class:"d-flex gap-3"},Ls=["data-kt-indicator"],y="https://backend.cloudfuelstationmis.com/api/records/v1",Os={__name:"SupplierManagementView",setup(Us){const S=localStorage.getItem("jwt")||"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiJkMDc1QVZVSVNCcW9HN3dvZFV0MVZ3PT0iLCJpYXQiOjE3NTAyNDc4ODgsImV4cCI6MTc1MDI1MTQ4OCwiZW1haWwiOiJhZG1pbkBsb2NhbGhvc3QiLCJjc3JmX3Rva2VuIjoiOWdWQmpzU0MzN1NBTmVhU3pCelQifQ.i-Lj_KsB-TXZ1vgsu4CPEdICamdOznhKDh42Jx7oi4F29K5voeBER5bBycrnQ0uK7-G45F-18SibATxo_F3rBQ",m=u([]),g=u([]),C=u([]),P=u(!1),B=u(!1),V=u(!1),h=u(null),x=u(null),G=u(""),E=u("All"),I=u("All"),l=u({Name:"",ContactPerson:"",Email:"",Phone:"",Address:"",TaxIdentificationNumber:"",IsGlobal:"0",Status:"Active"});let w=null,T=null;const p=u(new Set);ot(async()=>{try{await Promise.all([M(),H(),j()]),setTimeout(()=>{const e=document.getElementById("supplierModal"),s=document.getElementById("stationModal");e&&window.bootstrap&&(w=new window.bootstrap.Modal(e)),s&&window.bootstrap&&(T=new window.bootstrap.Modal(s))},100)}catch(e){console.error("Error during component initialization:",e)}});const M=async()=>{P.value=!0;try{const e=await fetch(`${y}/Suppliers`,{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const s=await e.json();m.value=Array.isArray(s.records)?s.records:[]}catch(e){console.error("Error fetching suppliers:",e),m.value=[],b.fire({icon:"error",title:"Error!",text:"Failed to load suppliers. Please check your connection.",confirmButtonColor:"#f1416c"})}finally{P.value=!1}},H=async()=>{try{const e=await fetch(`${y}/Stations`,{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const s=await e.json();g.value=Array.isArray(s.records)?s.records:[]}catch(e){console.error("Error fetching stations:",e),g.value=[]}},j=async()=>{try{const e=await fetch(`${y}/SupplierStations`,{method:"GET",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const s=await e.json();C.value=Array.isArray(s.records)?s.records:[]}catch(e){console.error("Error fetching supplier stations:",e),C.value=[]}},W=()=>{h.value=null,l.value={Name:"",ContactPerson:"",Email:"",Phone:"",Address:"",TaxIdentificationNumber:"",IsGlobal:"0",Status:"Active"},w&&w.show()},Z=e=>{if(!e||!e.SupplierID){console.error("Invalid supplier data for editing");return}h.value=e.SupplierID,l.value={Name:e.Name||"",ContactPerson:e.ContactPerson||"",Email:e.Email||"",Phone:e.Phone||"",Address:e.Address||"",TaxIdentificationNumber:e.TaxIdentificationNumber||"",IsGlobal:e.IsGlobal||"0",Status:e.Status||"Active"},w&&w.show()},K=async()=>{if(!l.value.Name||!l.value.Phone){b.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields (Name and Phone)",confirmButtonColor:"#f1416c"});return}B.value=!0;const e=h.value?`${y}/Suppliers/${h.value}`:`${y}/Suppliers`,s=h.value?"PATCH":"POST";try{const o=await fetch(e,{method:s,headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify(l.value)});if(!o.ok){const a=await o.json().catch(()=>({}));throw new Error(a.message||`HTTP ${o.status}: ${o.statusText}`)}b.fire({icon:"success",title:"Success!",text:h.value?"Supplier updated successfully":"Supplier created successfully",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1}),w&&w.hide(),await M()}catch(o){console.error("Error saving supplier:",o),b.fire({icon:"error",title:"Error!",text:o.message||"Failed to save supplier",confirmButtonColor:"#f1416c"})}finally{B.value=!1}},R=e=>{if(!e){console.error("Invalid supplier ID for deletion");return}b.fire({title:"Delete Supplier?",text:"This action cannot be undone. All station assignments will also be removed.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#f1416c",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(async s=>{if(s.isConfirmed)try{const o=await fetch(`${y}/Suppliers/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);b.fire({icon:"success",title:"Deleted!",text:"Supplier has been deleted successfully",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1}),await Promise.all([M(),j()])}catch(o){console.error("Error deleting supplier:",o),b.fire({icon:"error",title:"Error!",text:"Failed to delete supplier",confirmButtonColor:"#f1416c"})}})},q=e=>{if(!e||!e.SupplierID){console.error("Invalid supplier data for station management");return}x.value=e;const s=k(e.SupplierID);p.value=new Set(s.map(o=>o.StationID)),T&&T.show()},F=e=>!e||!p.value?!1:p.value.has(e),X=e=>{!e||!p.value||(p.value.has(e)?p.value.delete(e):p.value.add(e))},Y=()=>{!g.value||!Array.isArray(g.value)||(p.value=new Set(g.value.map(e=>e.StationID)))},tt=()=>{p.value=new Set},st=async()=>{if(!x.value||!x.value.SupplierID){console.error("No supplier selected for station assignment");return}V.value=!0;try{const e=x.value.SupplierID,s=k(e),o=new Set(s.map(c=>c.StationID)),a=Array.from(p.value).filter(c=>!o.has(c)),i=Array.from(o).filter(c=>!p.value.has(c));for(const c of a)try{const v=await fetch(`${y}/SupplierStations`,{method:"POST",headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json"},body:JSON.stringify({SupplierID:e,StationID:c})});v.ok||console.error(`Failed to add station ${c}:`,v.statusText)}catch(v){console.error(`Error adding station ${c}:`,v)}for(const c of s)if(i.includes(c.StationID))try{const v=await fetch(`${y}/SupplierStations/${c.SupplierID}`,{method:"DELETE",headers:{Authorization:`Bearer ${S}`}});v.ok||console.error(`Failed to remove station ${c.StationID}:`,v.statusText)}catch(v){console.error(`Error removing station ${c.StationID}:`,v)}b.fire({icon:"success",title:"Success!",text:"Station assignments updated successfully",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1}),T&&T.hide(),await j()}catch(e){console.error("Error saving station assignments:",e),b.fire({icon:"error",title:"Error!",text:"Failed to save station assignments",confirmButtonColor:"#f1416c"})}finally{V.value=!1}},k=e=>!e||!Array.isArray(C.value)?[]:C.value.filter(s=>s&&s.SupplierID===e),et=e=>{if(!e||!Array.isArray(g.value))return"Unknown Station";const s=g.value.find(o=>o&&o.StationID===e);return s?s.StationName:"Unknown Station"},J=z(()=>Array.isArray(m.value)?m.value.filter(e=>{if(!e)return!1;const s=(G.value||"").toLowerCase(),o=!s||(e.Name||"").toLowerCase().includes(s)||(e.ContactPerson||"").toLowerCase().includes(s)||(e.Phone||"").toLowerCase().includes(s),a=E.value==="All"||e.Status===E.value,i=I.value==="All"||I.value==="Global"&&e.IsGlobal==="1"||I.value==="Local"&&e.IsGlobal!=="1";return o&&a&&i}):[]),N=z(()=>{if(!Array.isArray(m.value))return{total:0,active:0,global:0,local:0};const e=m.value.length,s=m.value.filter(i=>i&&i.Status==="Active").length,o=m.value.filter(i=>i&&i.IsGlobal==="1").length,a=m.value.filter(i=>i&&i.IsGlobal!=="1").length;return{total:e,active:s,global:o,local:a}});return(e,s)=>{var o;return d(),r("div",lt,[t("div",{class:"d-flex justify-content-between align-items-start flex-wrap gap-4"},[s[12]||(s[12]=t("div",null,[t("h2",{class:"fw-bolder fs-1 text-dark"},"🚚 Supplier Registry"),t("div",{class:"text-muted fs-6"},"Manage suppliers and station assignments")],-1)),t("button",{class:"btn btn-light-success btn-lg d-inline-flex align-items-center gap-2",onClick:W},s[11]||(s[11]=[t("i",{class:"ki-duotone ki-plus fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),t("span",{class:"d-none d-sm-inline"},"New Supplier",-1)]))]),t("div",nt,[t("div",it,[t("div",rt,[t("div",dt,[s[13]||(s[13]=t("i",{class:"ki-duotone ki-delivery-3 fs-2x text-success mb-2"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1)),t("div",ct,n(N.value.total),1),s[14]||(s[14]=t("div",{class:"text-success fs-7"},"Total Suppliers",-1))])])]),t("div",ut,[t("div",pt,[t("div",ft,[s[15]||(s[15]=t("i",{class:"ki-duotone ki-global fs-2x text-primary mb-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("div",mt,n(N.value.global),1),s[16]||(s[16]=t("div",{class:"text-primary fs-7"},"Global Suppliers",-1))])])]),t("div",vt,[t("div",bt,[t("div",gt,[s[17]||(s[17]=t("i",{class:"ki-duotone ki-map fs-2x text-warning mb-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("div",ht,n(N.value.local),1),s[18]||(s[18]=t("div",{class:"text-warning fs-7"},"Station-Specific",-1))])])]),t("div",yt,[t("div",St,[t("div",xt,[s[19]||(s[19]=t("i",{class:"ki-duotone ki-questionnaire-tablet fs-2x text-info mb-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("div",wt,n(N.value.active),1),s[20]||(s[20]=t("div",{class:"text-info fs-7"},"Active Suppliers",-1))])])])]),t("div",kt,[f(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>G.value=a),class:"form-control form-control-lg bg-light-info rounded",placeholder:"🔍 Search supplier by name, contact, or phone..."},null,512),[[_,G.value]]),t("div",_t,[t("div",At,[f(t("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>E.value=a),class:"form-select form-select-lg bg-light-warning rounded"},s[21]||(s[21]=[t("option",{value:"All"},"All Statuses",-1),t("option",{value:"Active"},"Active Only",-1),t("option",{value:"Inactive"},"Inactive Only",-1)]),512),[[D,E.value]])]),t("div",It,[f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>I.value=a),class:"form-select form-select-lg bg-light-secondary rounded"},s[22]||(s[22]=[t("option",{value:"All"},"All Types",-1),t("option",{value:"Global"},"Global Suppliers",-1),t("option",{value:"Local"},"Station-Specific",-1)]),512),[[D,I.value]])])])]),P.value?(d(),r("div",Tt,s[23]||(s[23]=[t("span",{class:"spinner-border text-primary"},null,-1),t("div",{class:"text-muted fs-6 mt-3"},"Loading supplier data...",-1)]))):J.value.length===0?(d(),r("div",Ct,s[24]||(s[24]=[L('<i class="ki-duotone ki-information-5 fs-3x text-warning mb-3" data-v-ce657b42><span class="path1" data-v-ce657b42></span><span class="path2" data-v-ce657b42></span><span class="path3" data-v-ce657b42></span></i><h4 class="text-gray-500 fw-semibold" data-v-ce657b42>No matching suppliers found</h4><p class="text-gray-400" data-v-ce657b42>Try adjusting your search criteria or create a new supplier</p>',3)]))):(d(),r("div",Et,[(d(!0),r(O,null,U(J.value,a=>(d(),r("div",{key:a.SupplierID,class:"col-12 col-lg-6"},[t("div",Nt,[t("div",Dt,[t("div",$t,[t("div",Pt,[t("div",Bt,[t("h3",Vt,n(a.Name),1),a.IsGlobal==="1"?(d(),r("span",Gt,s[25]||(s[25]=[t("i",{class:"ki-duotone ki-global fs-7"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),A(" GLOBAL ")]))):Q("",!0)]),t("div",Mt,n(a.ContactPerson||"No contact person"),1),t("div",jt," TIN: "+n(a.TaxIdentificationNumber||"N/A"),1)]),t("div",Lt,[t("div",Ot,[t("button",{class:"btn btn-sm btn-light-primary",onClick:i=>Z(a)},s[26]||(s[26]=[t("i",{class:"ki-duotone ki-pencil fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)]),8,Ut),t("button",{class:"btn btn-sm btn-light-info",onClick:i=>q(a)},s[27]||(s[27]=[t("i",{class:"ki-duotone ki-map fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)]),8,Ft),t("button",{class:"btn btn-sm btn-light-danger",onClick:i=>R(a.SupplierID)},s[28]||(s[28]=[t("i",{class:"ki-duotone ki-trash fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)]),8,Jt)])])]),t("div",zt,[t("div",Qt,[s[29]||(s[29]=t("i",{class:"ki-duotone ki-sms fs-2 text-success"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("a",{href:`mailto:${a.Email||""}`,class:"text-hover-primary"},n(a.Email||"No email"),9,Ht)]),t("div",Wt,[s[30]||(s[30]=t("i",{class:"ki-duotone ki-phone fs-2 text-success"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("a",{href:`tel:${a.Phone||""}`,class:"text-hover-primary"},n(a.Phone||"No phone"),9,Zt)]),t("div",Kt,[s[31]||(s[31]=t("i",{class:"ki-duotone ki-geolocation fs-2 text-success"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("span",Rt,n(a.Address||"No address"),1)])]),t("div",qt,[t("div",Xt,[s[32]||(s[32]=t("span",{class:"fw-bold text-gray-800 fs-7"},"Station Coverage",-1)),t("span",Yt,n(k(a.SupplierID).length)+" stations ",1)]),a.IsGlobal==="1"?(d(),r("div",ts,s[33]||(s[33]=[L('<i class="ki-duotone ki-information-4 fs-6 text-primary me-2" data-v-ce657b42><span class="path1" data-v-ce657b42></span><span class="path2" data-v-ce657b42></span><span class="path3" data-v-ce657b42></span></i><span class="fs-7" data-v-ce657b42>Serves all stations globally</span>',2)]))):k(a.SupplierID).length>0?(d(),r("div",ss,[(d(!0),r(O,null,U(k(a.SupplierID).slice(0,3),i=>(d(),r("span",{key:i.StationID,class:"badge badge-light-secondary fs-8"},n(et(i.StationID)),1))),128)),k(a.SupplierID).length>3?(d(),r("span",es," +"+n(k(a.SupplierID).length-3)+" more ",1)):Q("",!0)])):(d(),r("div",as,"No station assignments"))]),t("div",os,[t("span",{class:$(["badge fs-7 fw-bold px-4 py-2 rounded-pill",a.Status==="Active"?"badge-light-success":"badge-light-danger"])},[t("i",{class:$(["ki-duotone fs-7 me-1",a.Status==="Active"?"ki-check-circle text-success":"ki-cross-circle text-danger"])},s[34]||(s[34]=[t("span",{class:"path1"},null,-1),t("span",{class:"path2"},null,-1)]),2),A(" "+n(a.Status),1)],2)])])])]))),128))])),t("div",ls,[t("div",ns,[t("div",is,[t("div",rs,[t("h3",ds,n(h.value?"Edit Supplier":"New Supplier"),1),s[35]||(s[35]=t("button",{type:"button",class:"btn btn-sm btn-light","data-bs-dismiss":"modal"},[t("i",{class:"ki-duotone ki-cross fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})])],-1))]),t("div",cs,[t("div",us,[t("div",ps,[s[36]||(s[36]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Supplier Name *",-1)),f(t("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>l.value.Name=a),placeholder:"Enter supplier company name",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.Name]])]),t("div",fs,[s[37]||(s[37]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Contact Person *",-1)),f(t("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>l.value.ContactPerson=a),placeholder:"Primary contact name",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.ContactPerson]])]),t("div",ms,[s[38]||(s[38]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Phone Number *",-1)),f(t("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>l.value.Phone=a),type:"tel",placeholder:"+256 700 123 456",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.Phone]])]),t("div",vs,[s[39]||(s[39]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Email Address",-1)),f(t("input",{"onUpdate:modelValue":s[6]||(s[6]=a=>l.value.Email=a),type:"email",placeholder:"supplier@company.com",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.Email]])]),t("div",bs,[s[40]||(s[40]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Tax ID (TIN)",-1)),f(t("input",{"onUpdate:modelValue":s[7]||(s[7]=a=>l.value.TaxIdentificationNumber=a),placeholder:"Enter TIN number",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.TaxIdentificationNumber]])]),t("div",gs,[s[41]||(s[41]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Address",-1)),f(t("textarea",{"onUpdate:modelValue":s[8]||(s[8]=a=>l.value.Address=a),placeholder:"Full business address",rows:"3",class:"form-control form-control-lg bg-light rounded"},null,512),[[_,l.value.Address]])]),t("div",hs,[s[43]||(s[43]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Supplier Type *",-1)),f(t("select",{"onUpdate:modelValue":s[9]||(s[9]=a=>l.value.IsGlobal=a),class:"form-select form-select-lg bg-light rounded"},s[42]||(s[42]=[t("option",{value:""},"Select type",-1),t("option",{value:"1"},"Global (Serves all stations)",-1),t("option",{value:"0"},"Station-Specific",-1)]),512),[[D,l.value.IsGlobal]])]),t("div",ys,[s[45]||(s[45]=t("label",{class:"form-label fs-6 fw-bold text-gray-900"},"Status *",-1)),f(t("select",{"onUpdate:modelValue":s[10]||(s[10]=a=>l.value.Status=a),class:"form-select form-select-lg bg-light rounded"},s[44]||(s[44]=[t("option",{value:""},"Select status",-1),t("option",{value:"Active"},"Active",-1),t("option",{value:"Inactive"},"Inactive",-1)]),512),[[D,l.value.Status]])])]),t("div",Ss,[t("button",{onClick:K,class:"btn btn-primary btn-lg w-100","data-kt-indicator":B.value?"on":"off"},[t("span",ws,[s[46]||(s[46]=t("i",{class:"ki-duotone ki-check fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),A(" "+n(h.value?"Update Supplier":"Create Supplier"),1)]),s[47]||(s[47]=t("span",{class:"indicator-progress"},[A(" Saving... "),t("span",{class:"spinner-border spinner-border-sm align-middle ms-2"})],-1))],8,xs),s[48]||(s[48]=t("button",{type:"button",class:"btn btn-light btn-lg w-100","data-bs-dismiss":"modal"}," Cancel ",-1))])])])])]),t("div",ks,[t("div",_s,[t("div",As,[t("div",Is,[t("div",null,[s[49]||(s[49]=t("h3",{class:"fw-bold fs-2 mb-1"},"Station Assignments",-1)),t("p",Ts,n(((o=x.value)==null?void 0:o.Name)||"Supplier"),1)]),s[50]||(s[50]=t("button",{type:"button",class:"btn btn-sm btn-light","data-bs-dismiss":"modal"},[t("i",{class:"ki-duotone ki-cross fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})])],-1))]),x.value&&x.value.IsGlobal==="1"?(d(),r("div",Cs,s[51]||(s[51]=[t("i",{class:"ki-duotone ki-information-4 fs-2 text-primary me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1),t("strong",null,"Global Supplier:",-1),A(" This supplier automatically serves all stations and cannot have individual station assignments. ")]))):(d(),r("div",Es,[t("div",{class:"d-flex gap-3"},[t("button",{class:"btn btn-light-success btn-sm",onClick:Y},s[52]||(s[52]=[t("i",{class:"ki-duotone ki-check-square fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1),A(" Select All ")])),t("button",{class:"btn btn-light-warning btn-sm",onClick:tt},s[53]||(s[53]=[t("i",{class:"ki-duotone ki-cross-square fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),A(" Clear All ")]))]),t("div",Ns,[(d(!0),r(O,null,U(g.value,a=>(d(),r("div",{key:a.StationID,class:"col-12 col-md-6"},[t("div",{class:$(["card border-2",F(a.StationID)?"border-success bg-light-success":"border-light bg-light"])},[t("div",Ds,[t("div",$s,[t("div",Ps,[t("h5",Bs,n(a.StationName),1),t("p",Vs,n(a.Location),1),t("span",{class:$(["badge fs-8",a.Status==="Active"?"badge-light-success":"badge-light-danger"])},n(a.Status),3)]),t("div",Gs,[t("input",{class:"form-check-input",type:"checkbox",checked:F(a.StationID),onChange:i=>X(a.StationID)},null,40,Ms)])])])],2)]))),128))]),t("div",js,[t("button",{class:"btn btn-primary btn-lg flex-fill",onClick:st,"data-kt-indicator":V.value?"on":"off"},s[54]||(s[54]=[L('<span class="indicator-label" data-v-ce657b42><i class="ki-duotone ki-check fs-2 me-2" data-v-ce657b42><span class="path1" data-v-ce657b42></span><span class="path2" data-v-ce657b42></span></i> Save Assignments </span><span class="indicator-progress" data-v-ce657b42> Saving... <span class="spinner-border spinner-border-sm align-middle ms-2" data-v-ce657b42></span></span>',2)]),8,Ls),s[55]||(s[55]=t("button",{type:"button",class:"btn btn-light btn-lg","data-bs-dismiss":"modal"}," Cancel ",-1))])]))])])])])}}},Js=at(Os,[["__scopeId","data-v-ce657b42"]]);export{Js as default};
