import{_ as yt,r as v,a as wt,c,o as _t,s as St,b as d,e as j,d as t,g as m,t as n,F as T,h as P,f as $,n as S,j as k,S as y,i as u}from"./index-BJk99QVQ.js";const xt={class:"d-flex flex-column gap-5 p-4"},kt={key:0,class:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0, 0, 0, 0.7)","z-index":"9999"}},Dt={class:"card shadow-lg",style:{"max-width":"500px",width:"90%"}},Ct={class:"card-body p-6"},It={class:"text-gray-700 mb-4"},Tt={class:"row g-3"},Pt=["onClick","disabled"],$t={class:"flex-grow-1"},At={class:"fw-bold text-gray-900 mb-1"},Ot={class:"text-gray-600 mb-0"},Et={key:1,class:"card card-flush bg-gradient-primary"},Mt={class:"card-body p-6"},Bt={class:"d-flex align-items-center justify-content-between"},Nt={class:"d-flex align-items-center gap-4"},Ft={class:"fw-bold text-white mb-1 fs-2"},Rt={class:"text-white opacity-75 mb-0 fs-5"},Ut={class:"text-end"},jt={class:"text-white opacity-75 mb-0 mt-1 fs-6"},Ht={class:"row g-4"},Lt={class:"col-6 col-lg-3"},qt={class:"card-body p-4 text-center"},Vt=["disabled"],zt={class:"col-6 col-lg-3"},Yt={class:"card card-flush bg-light-info h-100"},Jt={class:"card-body p-4 text-center"},Gt=["disabled"],Xt={class:"row g-4"},Kt={class:"col-6 col-lg-3"},Qt={class:"card card-flush bg-light-primary h-100"},Wt={class:"card-body p-4 text-center"},Zt={class:"fw-bold text-gray-900 mb-1"},ts={class:"progress h-6px mt-2"},ss={class:"col-6 col-lg-3"},as={class:"card card-flush bg-light-success h-100"},es={class:"card-body p-4 text-center"},ns={class:"fw-bold text-gray-900 mb-1"},os={class:"progress h-6px mt-2"},is={class:"col-6 col-lg-3"},ls={class:"card card-flush bg-light-warning h-100"},rs={class:"card-body p-4 text-center"},cs={class:"fw-bold text-gray-900 mb-1"},ds={class:"progress h-6px mt-2"},us={class:"col-6 col-lg-3"},hs={class:"card-body p-4 text-center"},ps={class:"fw-bold text-gray-900 mb-1"},vs={class:"progress h-6px mt-2"},fs={class:"row g-5"},gs={class:"col-12 col-lg-8"},bs={class:"card card-flush h-100"},ms={class:"card-header py-4"},ys={class:"card-toolbar"},ws={class:"badge badge-light-success fw-bold"},_s={class:"card-body"},Ss={class:"chart-container",style:{height:"280px"}},xs={class:"d-flex align-items-end justify-content-between h-100 gap-1"},ks={class:"text-gray-600 fw-semibold"},Ds={class:"mt-4 p-3 bg-light-info rounded"},Cs={class:"text-gray-800 mt-2 mb-0 fw-semibold"},Is={class:"col-12 col-lg-4"},Ts={class:"card card-flush h-100"},Ps={class:"card-body"},$s={class:"payment-chart mb-4"},As={class:"d-flex justify-content-between align-items-center mb-1"},Os={class:"fw-semibold text-gray-800"},Es={class:"fw-bold text-gray-900"},Ms={class:"progress h-8px"},Bs={class:"d-flex justify-content-between py-2"},Ns={class:"fw-bold text-success fs-5"},Fs={class:"card card-flush"},Rs={class:"card-header py-4"},Us={class:"card-toolbar"},js=["disabled"],Hs={class:"card-body"},Ls={class:"row g-4"},qs={class:"col-12 col-md-6"},Vs={class:"fw-bold mb-3 text-gray-800"},zs={class:"row g-2"},Ys={class:"card card-flush bg-light-success h-100"},Js={class:"card-body p-3 text-center"},Gs={class:"fw-bold mb-1"},Xs={class:"badge badge-success"},Ks={class:"mt-2"},Qs={class:"text-gray-600"},Ws={class:"col-12 col-md-6"},Zs={class:"fw-bold mb-3 text-gray-800"},ta={class:"row g-2"},sa={class:"card card-flush bg-light-info h-100"},aa={class:"card-body p-3 text-center"},ea={class:"fw-bold mb-1"},na={class:"progress h-6px mb-2"},oa={class:"text-gray-600"},ia={key:2,class:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"9998"}},la={class:"card shadow"},ra={class:"card-body text-center p-5"},ca={class:"fw-bold"},da="https://backend.cloudfuelstationmis.com/api/records/v1",ua={__name:"StationOps",setup(ha){const l=v(!1),D=v("Loading..."),I=v(!1),f=v({}),C=v([]),h=v({}),E=v([]),M=v([]),o=v({}),p=v("Not Clocked In"),i=wt({totalSales:0,totalTransactions:0,cashBalance:0,variance:0}),B=v({}),A=v({}),J=["vexa256@gmail.com","atimothy@ecsahc.org"],N=c(()=>{var a;return J.includes((a=f.value.email)==null?void 0:a.toLowerCase())}),G=c(()=>o.value.DrawerID?o.value.Status==="Open"?"Shift Active":"Shift Closed":"No Active Shift"),X=c(()=>o.value.DrawerID?o.value.Status==="Open"?"success":"primary":"secondary"),K=c(()=>{if(!o.value.OpenedAt)return"0h 0m";const a=new Date(o.value.OpenedAt),e=new Date-a,r=Math.floor(e/(1e3*60*60)),b=Math.floor(e%(1e3*60*60)/(1e3*60));return`${r}h ${b}m`}),Q=c(()=>o.value.DrawerID?o.value.Status==="Open"?"bg-light-danger":"bg-light-secondary":"bg-light-success"),W=c(()=>o.value.DrawerID?o.value.Status==="Open"?"ki-stop text-danger":"ki-check-circle text-secondary":"ki-play text-success"),Z=c(()=>o.value.DrawerID?o.value.Status==="Open"?"End Shift":"Shift Closed":"Start Shift"),tt=c(()=>o.value.DrawerID?o.value.Status==="Open"?"btn-danger":"btn-secondary":"btn-success"),F=c(()=>{const a=Math.abs(i.variance);return a>1e5?"danger":a>5e4?"warning":"success"}),st=c(()=>Math.min(100,i.totalSales/5e6*100)),at=c(()=>Math.min(100,i.totalTransactions/200*100)),H=c(()=>Object.values(B.value).reduce((a,s)=>a+s,0)),R=c(()=>{let a=0,s=0;for(const[e,r]of Object.entries(A.value))r>a&&(a=r,s=parseInt(e));return s}),et=c(()=>{const a=new Date().getHours(),s=R.value;return Math.abs(i.variance)>1e5?`Critical variance detected! Review transactions around ${s}:00. Immediate supervisor notification required.`:a>=6&&a<=9?`Morning peak detected at ${s}:00. Recommend ensuring all dispensers operational for rush hour.`:a>=17&&a<=19?`Evening rush approaching. Peak historical activity at ${s}:00. Monitor cash levels closely.`:`Performance tracking normal. Peak sales historically at ${s}:00. Current variance within acceptable limits.`}),nt=()=>({Authorization:`Bearer ${localStorage.getItem("kigrama_auth_token")||"demo_token"}`,"Content-Type":"application/json"}),g=async(a,s={})=>{try{const e=await fetch(`${da}${a}`,{headers:nt(),...s});if(!e.ok)throw new Error(`API Error: ${e.status}`);return await e.json()}catch(e){throw console.error("API Call Error:",e),e}},ot=()=>{try{const a=localStorage.getItem("kigrama_user_data");if(a){const s=JSON.parse(a);f.value=s.user||{}}return f.value.id?!0:(w("Authentication Error","User not properly authenticated"),!1)}catch{return w("Data Error","Failed to load user data"),!1}},it=async()=>{try{if(N.value){const a=await g("/Stations");C.value=a.records||[]}else{const s=(await g(`/UserStations?UserID=${f.value.id}`)).records||[];if(s.length===0){w("No Stations","No stations assigned to your account. Contact your manager.");return}const e=s.map(async b=>{try{return{...await g(`/Stations/${b.StationID}`),userStationData:b}}catch(_){return console.error(`Failed to fetch station ${b.StationID}:`,_),null}}),r=await Promise.all(e);C.value=r.filter(b=>b!==null)}if(C.value.length===1)await U(C.value[0]);else if(f.value.PrimaryStationID&&!N.value){const a=C.value.find(s=>s.StationID===f.value.PrimaryStationID);a?await U(a):I.value=!0}else I.value=!0}catch(a){console.error("Error fetching stations:",a),w("Station Loading Error","Failed to load available stations")}},U=async a=>{if(!(!a||l.value)){l.value=!0,D.value=`Loading ${a.StationName}...`,I.value=!1;try{h.value=a,await Promise.all([L(),lt(),rt(),q()]),await y.fire({title:"Station Selected!",text:`Now managing ${a.StationName}`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch(s){console.error("Error selecting station:",s),w("Station Selection Error","Failed to load station data")}finally{l.value=!1}}},L=async()=>{try{const[a,s]=await Promise.all([g(`/Pumps?StationID=${h.value.StationID}`),g(`/Tanks?StationID=${h.value.StationID}`)]);E.value=a.records||[],M.value=s.records||[]}catch(a){console.error("Error fetching station equipment:",a)}},lt=async()=>{try{const a=new Date().toISOString().split("T")[0],s=await g(`/CashDrawers?StationID=${h.value.StationID}&ShiftDate=${a}`);s.records&&s.records.length>0?o.value=s.records[0]:o.value={}}catch(a){console.error("Error fetching active shift:",a),o.value={}}},rt=async()=>{try{const a=new Date().toISOString().split("T")[0],s=await g(`/Attendance?UserID=${f.value.id}&AttendanceDate=${a}`);if(s.records&&s.records.length>0){const e=s.records[0];p.value=e.Status||"Not Clocked In"}else p.value="Not Clocked In"}catch(a){console.error("Error fetching attendance:",a),p.value="Not Clocked In"}},q=async()=>{try{const a=new Date().toISOString().split("T")[0],e=(await g(`/Transactions?StationID=${h.value.StationID}&TransactionDate=${a}`)).records||[];i.totalTransactions=e.length,i.totalSales=e.reduce((_,O)=>_+parseFloat(O.TotalAmount||0),0),i.cashBalance=parseFloat(o.value.ActualCash||0),i.variance=parseFloat(o.value.Variance||0);const r={},b={};e.forEach(_=>{const O=_.PaymentMethod||"Unknown";r[O]=(r[O]||0)+parseFloat(_.TotalAmount||0);const Y=new Date(_.TransactionDate).getHours();b[Y]=(b[Y]||0)+parseFloat(_.TotalAmount||0)}),B.value=r,A.value=b}catch(a){console.error("Error fetching today statistics:",a)}},ct=async()=>{o.value.DrawerID?o.value.Status==="Open"&&await ut():await dt()},dt=async()=>{if((await y.fire({title:"Start New Shift",text:"This will begin a new shift session. Are you ready?",icon:"question",showCancelButton:!0,confirmButtonText:"Start Shift",cancelButtonText:"Cancel",confirmButtonColor:"#50cd89"})).isConfirmed){l.value=!0,D.value="Starting shift...";try{const s={StationID:h.value.StationID,ShiftDate:new Date().toISOString().split("T")[0],ShiftType:ft(),AttendantID:f.value.id,OpeningBalance:"0",ExpectedCash:"0",ActualCash:"0",Variance:"0",CashSales:"0",CashPayouts:"0",Status:"Open",OpenedBy:f.value.id,OpenedAt:new Date().toISOString()},e=await g("/CashDrawers",{method:"POST",body:JSON.stringify(s)});o.value=e,await y.fire({title:"Shift Started!",text:"Your shift has been successfully started",icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1}),p.value!=="Present"&&await V()}catch(s){w("Failed to start shift",s.message)}finally{l.value=!1}}},ut=async()=>{if((await y.fire({title:"End Shift Confirmation",html:`
      <div class="text-start">
        <p><strong>Cash Variance:</strong> ${x(i.variance)}</p>
        <p><strong>Total Sales:</strong> ${x(i.totalSales)}</p>
        <p><strong>Transactions:</strong> ${i.totalTransactions}</p>
        <br>
        <p>Are you sure you want to end your shift?</p>
      </div>
    `,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, End Shift",cancelButtonText:"Cancel",confirmButtonColor:"#f1416c"})).isConfirmed){l.value=!0,D.value="Ending shift...";try{const s={Status:"Closed",ClosedBy:f.value.id,ClosedAt:new Date().toISOString()};await g(`/CashDrawers/${o.value.DrawerID}`,{method:"PATCH",body:JSON.stringify(s)}),o.value.Status="Closed",await y.fire({title:"Shift Ended Successfully!",text:"Your shift has been completed",icon:"success",confirmButtonColor:"#50cd89"})}catch(s){w("Failed to end shift",s.message)}finally{l.value=!1}}},V=async()=>{l.value=!0,D.value=p.value==="Present"?"Clocking out...":"Clocking in...";try{if(p.value==="Present")p.value="Completed";else{const a={StationID:h.value.StationID,UserID:f.value.id,AttendanceDate:new Date().toISOString().split("T")[0],TimeIn:new Date().toISOString(),Status:"Present"};await g("/Attendance",{method:"POST",body:JSON.stringify(a)}),p.value="Present"}await y.fire({title:p.value==="Present"?"Clocked In!":"Clocked Out!",text:`You have been successfully ${p.value==="Present"?"clocked in":"clocked out"}`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch(a){w("Clock in/out failed",a.message)}finally{l.value=!1}},ht=async()=>{l.value=!0,D.value="Refreshing equipment status...";try{await L(),await y.fire({title:"Status Updated!",text:"Equipment status has been refreshed",icon:"success",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1})}catch(a){w("Refresh failed",a.message)}finally{l.value=!1}},pt=()=>{y.fire({title:"Navigate to Readings",text:"This would navigate to the readings view",icon:"info"})},vt=()=>{y.fire({title:"Navigate to Incidents",text:"This would navigate to the incident reporting view",icon:"info"})},ft=()=>{const a=new Date().getHours();return a>=6&&a<14?"Morning":a>=14&&a<22?"Afternoon":"Night"},gt=a=>{const s=A.value[a]||0,e=Math.max(...Object.values(A.value),1);return Math.max(10,s/e*200)},z=a=>Math.round(parseFloat(a.CurrentLevel||0)/parseFloat(a.Capacity||1)*100),bt=a=>({Cash:"bg-success",Card:"bg-primary","Mobile Money":"bg-warning",Credit:"bg-info"})[a]||"bg-secondary",mt=a=>{const s=H.value;return s>0?a/s*100:0},x=a=>new Intl.NumberFormat("en-UG",{style:"currency",currency:"UGX",minimumFractionDigits:0}).format(a||0),w=(a,s)=>{y.fire({title:a,text:s,icon:"error",confirmButtonColor:"#f1416c"})};return _t(async()=>{ot()&&await it()}),St(()=>h.value.StationID,a=>{if(a){const s=setInterval(async()=>{h.value.StationID===a?await q():clearInterval(s)},3e4)}}),(a,s)=>(u(),d("div",xt,[I.value?(u(),d("div",kt,[t("div",Dt,[s[3]||(s[3]=m('<div class="card-header bg-primary" data-v-a47f2c11><h3 class="card-title text-white fw-bold mb-0" data-v-a47f2c11><i class="ki-duotone ki-shop fs-2 text-white me-2" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i> Select Your Station </h3></div>',1)),t("div",Ct,[t("p",It,n(N.value?"Select a station to manage:":"Choose your working station:"),1),t("div",Tt,[(u(!0),d(T,null,P(C.value,e=>(u(),d("div",{key:e.StationID,class:"col-12"},[t("button",{onClick:r=>U(e),disabled:l.value,class:"btn btn-light-primary btn-lg w-100 text-start d-flex align-items-center gap-3 p-4",style:{"border-radius":"12px"}},[s[1]||(s[1]=m('<div class="symbol symbol-50px" data-v-a47f2c11><div class="symbol-label bg-primary" data-v-a47f2c11><i class="ki-duotone ki-shop fs-2 text-white" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i></div></div>',1)),t("div",$t,[t("h6",At,n(e.StationName),1),t("p",Ot,n(e.Location),1)]),s[2]||(s[2]=t("i",{class:"ki-duotone ki-arrow-right fs-2 text-primary"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1))],8,Pt)]))),128))])])])])):j("",!0),h.value.StationID?(u(),d("div",Et,[t("div",Mt,[t("div",Bt,[t("div",Nt,[s[4]||(s[4]=m('<div class="symbol symbol-60px" data-v-a47f2c11><div class="symbol-label bg-white bg-opacity-20" data-v-a47f2c11><i class="ki-duotone ki-shop fs-2x text-white" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i></div></div>',1)),t("div",null,[t("h1",Ft,n(h.value.StationName),1),t("p",Rt,n(h.value.Location)+" • "+n(G.value),1)])]),t("div",Ut,[t("button",{onClick:s[0]||(s[0]=e=>I.value=!0),class:"btn btn-white btn-sm mb-2"},s[5]||(s[5]=[t("i",{class:"ki-duotone ki-switch fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),$(" Switch Station ")])),t("div",{class:S(["badge badge-lg",`badge-light-${X.value}`])},n(p.value),3),t("p",jt,n(K.value),1)])])])])):j("",!0),t("div",Ht,[t("div",Lt,[t("div",{class:S(["card card-flush h-100",Q.value])},[t("div",qt,[t("i",{class:S(["ki-duotone fs-3x mb-3",W.value])},s[6]||(s[6]=[t("span",{class:"path1"},null,-1),t("span",{class:"path2"},null,-1)]),2),t("button",{onClick:ct,disabled:l.value,class:S(["btn btn-lg w-100 fw-bold",tt.value])},n(Z.value),11,Vt)])],2)]),t("div",zt,[t("div",Yt,[t("div",Jt,[s[7]||(s[7]=t("i",{class:"ki-duotone ki-time fs-3x text-info mb-3"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("button",{onClick:V,disabled:l.value,class:"btn btn-info btn-lg w-100 fw-bold"},n(p.value==="Present"?"Clock Out":"Clock In"),9,Gt)])])]),t("div",{class:"col-6 col-lg-3"},[t("div",{class:"card card-flush bg-light-warning h-100"},[t("div",{class:"card-body p-4 text-center"},[s[8]||(s[8]=t("i",{class:"ki-duotone ki-chart-line-up fs-3x text-warning mb-3"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1)),t("button",{onClick:pt,class:"btn btn-warning btn-lg w-100 fw-bold"}," Take Readings ")])])]),t("div",{class:"col-6 col-lg-3"},[t("div",{class:"card card-flush bg-light-danger h-100"},[t("div",{class:"card-body p-4 text-center"},[s[9]||(s[9]=t("i",{class:"ki-duotone ki-information fs-3x text-danger mb-3"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1)),t("button",{onClick:vt,class:"btn btn-danger btn-lg w-100 fw-bold"}," Report Issue ")])])])]),t("div",Xt,[t("div",Kt,[t("div",Qt,[t("div",Wt,[s[10]||(s[10]=t("i",{class:"ki-duotone ki-chart-line-up fs-3x text-primary mb-3"},[t("span",{class:"path1"}),t("span",{class:"path2"}),t("span",{class:"path3"})],-1)),t("h2",Zt,n(x(i.totalSales)),1),s[11]||(s[11]=t("p",{class:"text-gray-600 fw-semibold mb-0"},"Today's Sales",-1)),t("div",ts,[t("div",{class:"progress-bar bg-primary",style:k(`width: ${st.value}%`)},null,4)])])])]),t("div",ss,[t("div",as,[t("div",es,[s[12]||(s[12]=m('<i class="ki-duotone ki-basket fs-3x text-success mb-3" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span><span class="path4" data-v-a47f2c11></span></i>',1)),t("h2",ns,n(i.totalTransactions),1),s[13]||(s[13]=t("p",{class:"text-gray-600 fw-semibold mb-0"},"Transactions",-1)),t("div",os,[t("div",{class:"progress-bar bg-success",style:k(`width: ${at.value}%`)},null,4)])])])]),t("div",is,[t("div",ls,[t("div",rs,[s[14]||(s[14]=m('<i class="ki-duotone ki-wallet fs-3x text-warning mb-3" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span><span class="path4" data-v-a47f2c11></span></i>',1)),t("h2",cs,n(x(i.cashBalance)),1),s[15]||(s[15]=t("p",{class:"text-gray-600 fw-semibold mb-0"},"Cash Balance",-1)),t("div",ds,[t("div",{class:"progress-bar bg-warning",style:k(`width: ${Math.min(100,Math.abs(i.cashBalance)/1e6*100)}%`)},null,4)])])])]),t("div",us,[t("div",{class:S(["card card-flush",`bg-light-${F.value}`])},[t("div",hs,[t("i",{class:S(["ki-duotone ki-arrow-up-down fs-3x mb-3",`text-${F.value}`])},s[16]||(s[16]=[t("span",{class:"path1"},null,-1),t("span",{class:"path2"},null,-1)]),2),t("h2",ps,n(x(Math.abs(i.variance))),1),s[17]||(s[17]=t("p",{class:"text-gray-600 fw-semibold mb-0"},"Cash Variance",-1)),t("div",vs,[t("div",{class:S(["progress-bar",`bg-${F.value}`]),style:k(`width: ${Math.min(100,Math.abs(i.variance)/5e4*100)}%`)},null,6)])])],2)])]),t("div",fs,[t("div",gs,[t("div",bs,[t("div",ms,[s[18]||(s[18]=m('<h3 class="card-title fw-bold" data-v-a47f2c11><i class="ki-duotone ki-chart-line fs-2 text-primary me-2" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i> Hourly Sales Performance </h3>',1)),t("div",ys,[t("div",ws,"Peak: "+n(R.value)+":00",1)])]),t("div",_s,[t("div",Ss,[t("div",xs,[(u(),d(T,null,P(24,e=>t("div",{key:e-1,class:"d-flex flex-column align-items-center",style:{flex:"1"}},[t("div",{class:S(["bg-primary rounded-top mb-2 transition-all",{"bg-success":e-1===R.value}]),style:k(`height: ${gt(e-1)}px; width: 100%; max-width: 20px;`)},null,6),t("small",ks,n(e-1),1)])),64))])]),t("div",Ds,[s[19]||(s[19]=m('<div class="d-flex align-items-center gap-2" data-v-a47f2c11><i class="ki-duotone ki-artificial-intelligence fs-2 text-info" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i><div class="badge badge-info fw-bold" data-v-a47f2c11>AI Insight</div></div>',1)),t("p",Cs,n(et.value),1)])])])]),t("div",Is,[t("div",Ts,[s[22]||(s[22]=m('<div class="card-header py-4" data-v-a47f2c11><h3 class="card-title fw-bold" data-v-a47f2c11><i class="ki-duotone ki-chart-pie fs-2 text-success me-2" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span></i> Payment Methods </h3></div>',1)),t("div",Ps,[t("div",$s,[(u(!0),d(T,null,P(B.value,(e,r)=>(u(),d("div",{key:r,class:"mb-3"},[t("div",As,[t("span",Os,n(r),1),t("span",Es,n(x(e)),1)]),t("div",Ms,[t("div",{class:S(["progress-bar",bt(r)]),style:k(`width: ${mt(e)}%`)},null,6)])]))),128))]),s[21]||(s[21]=t("div",{class:"separator my-4"},null,-1)),t("div",Bs,[s[20]||(s[20]=t("span",{class:"fw-bold text-gray-800"},"Total Collected:",-1)),t("span",Ns,n(x(H.value)),1)])])])])]),t("div",Fs,[t("div",Rs,[s[24]||(s[24]=t("h3",{class:"card-title fw-bold"},[t("i",{class:"ki-duotone ki-abstract-26 fs-2 text-danger me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})]),$(" Equipment Status Overview ")],-1)),t("div",Us,[t("button",{onClick:ht,disabled:l.value,class:"btn btn-sm btn-light-primary"},s[23]||(s[23]=[t("i",{class:"ki-duotone ki-arrows-circle fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),$(" Refresh ")]),8,js)])]),t("div",Hs,[t("div",Ls,[t("div",qs,[t("h6",Vs,[s[25]||(s[25]=t("i",{class:"ki-duotone ki-abstract-26 fs-1 text-primary me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),$(" Fuel Dispensers ("+n(E.value.length)+") ",1)]),t("div",zs,[(u(!0),d(T,null,P(E.value,e=>(u(),d("div",{key:e.PumpID,class:"col-6 col-lg-4"},[t("div",Ys,[t("div",Js,[s[26]||(s[26]=t("i",{class:"ki-duotone ki-abstract-26 fs-2x text-success mb-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),t("h6",Gs,n(e.PumpName),1),t("span",Xs,n(e.Status),1),t("div",Ks,[t("small",Qs,n(Math.round(85+Math.random()*15))+"% Uptime",1)])])])]))),128))])]),t("div",Ws,[t("h6",Zs,[s[27]||(s[27]=m('<i class="ki-duotone ki-bucket fs-1 text-info me-2" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span><span class="path4" data-v-a47f2c11></span></i>',1)),$(" Storage Tanks ("+n(M.value.length)+") ",1)]),t("div",ta,[(u(!0),d(T,null,P(M.value,e=>(u(),d("div",{key:e.TankID,class:"col-6 col-lg-4"},[t("div",sa,[t("div",aa,[s[28]||(s[28]=m('<i class="ki-duotone ki-bucket fs-2x text-info mb-2" data-v-a47f2c11><span class="path1" data-v-a47f2c11></span><span class="path2" data-v-a47f2c11></span><span class="path3" data-v-a47f2c11></span><span class="path4" data-v-a47f2c11></span></i>',1)),t("h6",ea,n(e.TankName),1),t("div",na,[t("div",{class:"progress-bar bg-info",style:k(`width: ${z(e)}%`)},null,4)]),t("small",oa,n(z(e))+"% Full",1)])])]))),128))])])])])]),l.value?(u(),d("div",ia,[t("div",la,[t("div",ra,[s[29]||(s[29]=t("div",{class:"spinner-border text-primary mb-3",style:{width:"3rem",height:"3rem"}},null,-1)),t("h6",ca,n(D.value),1)])])])):j("",!0)]))}},va=yt(ua,[["__scopeId","data-v-a47f2c11"]]);export{va as default};
