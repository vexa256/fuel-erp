import{_ as ue,r as v,c as w,s as ve,o as ce,b as r,d as e,e as p,g as Z,t as n,f,n as T,w as u,v as m,F as S,h as k,x as ee,m as C,S as b,i}from"./index-BJk99QVQ.js";const me={class:"d-flex flex-column gap-6 py-4 px-2 bg-light min-vh-100"},pe={class:"card card-flush border-0 shadow-sm bg-light-primary"},fe={class:"card-body p-5 d-flex flex-column flex-md-row align-items-center justify-content-between gap-3"},be={class:"badge badge-light-info"},ye={class:"d-flex gap-2"},ge={class:"card card-flush"},he={class:"card-header border-0 pt-4"},xe={class:"nav nav-tabs nav-line-tabs nav-stretch fs-6 border-0"},we={class:"badge badge-light-primary ms-2"},Se={class:"badge badge-light-warning ms-2"},ke={key:0},Ce={class:"card card-flush"},Re={class:"card-header align-items-center py-5 gap-2 gap-md-5"},Ge={class:"card-title"},Ae={class:"d-flex align-items-center position-relative my-1"},Ie={class:"card-body pt-0"},De={class:"alert bg-light-warning border-0 py-3 px-5 mb-5 d-flex align-items-center gap-4"},Ne={class:"table-responsive"},Me={class:"table align-middle table-row-dashed fs-6 gy-4"},Ue={class:"fw-semibold text-gray-600"},Be={class:"badge badge-light-primary fw-bold"},Ee={class:"fw-bold text-gray-800"},Te={class:"badge badge-light-info"},Je={class:"fw-bold"},Le={key:0,class:"text-muted"},$e={class:"text-end"},Ve=["onClick"],qe=["onClick"],_e={key:0},je={key:1},Oe={class:"card card-flush"},Pe={class:"card-header align-items-center py-5 gap-2 gap-md-5"},Fe={class:"card-title"},ze={class:"d-flex align-items-center position-relative my-1"},He={class:"card-body pt-0"},Ye={class:"alert bg-light-warning border-0 py-3 px-5 mb-5 d-flex align-items-center gap-4"},Qe={class:"table-responsive"},Ke={class:"table align-middle table-row-dashed fs-6 gy-4"},We={class:"fw-semibold text-gray-600"},Xe={class:"fw-bold text-gray-800"},Ze={class:"text-gray-600"},et={class:"fs-7 text-gray-600"},tt={class:"text-end"},st=["onClick"],lt=["onClick","disabled"],at={key:0},ot={key:2,class:"modal fade show d-block",style:{"background-color":"rgba(0, 0, 0, 0.5)","z-index":"1060"}},nt={class:"modal-dialog modal-dialog-centered mw-650px"},rt={class:"modal-content"},it={class:"modal-header"},dt={class:"fw-bold"},ut={class:"modal-body scroll-y mx-5 mx-xl-15 my-7"},vt={class:"row g-5"},ct={class:"col-12 col-md-6"},mt={class:"input-group"},pt=["readonly"],ft={class:"col-12 col-md-6"},bt={class:"col-12 col-md-6"},yt=["value"],gt={class:"col-12 col-md-6"},ht={class:"col-12 col-md-4"},xt={class:"col-12 col-md-4"},wt={class:"col-12 col-md-4"},St={class:"col-12"},kt={class:"col-12 col-md-6"},Ct=["value"],Rt={class:"col-12 col-md-6"},Gt=["value"],At={class:"alert bg-light-warning mt-5"},It={class:"modal-footer"},Dt=["disabled"],Nt={key:0,class:"spinner-border spinner-border-sm me-2"},Mt={key:3,class:"modal fade show d-block",style:{"background-color":"rgba(0, 0, 0, 0.5)","z-index":"1060"}},Ut={class:"modal-dialog modal-dialog-centered mw-650px"},Bt={class:"modal-content"},Et={class:"modal-header"},Tt={class:"fw-bold"},Jt={class:"modal-body scroll-y mx-5 mx-xl-15 my-7"},Lt={class:"row g-5"},$t={class:"col-12"},Vt={class:"col-12"},qt={class:"col-12"},_t={class:"col-12 col-md-6"},jt=["value"],Ot={class:"col-12 col-md-6"},Pt=["value"],Ft={class:"alert bg-light-warning mt-5"},zt={class:"modal-footer"},Ht=["disabled"],Yt={key:0,class:"spinner-border spinner-border-sm me-2"},Qt="https://backend.cloudfuelstationmis.com/api/records/v1",Kt={__name:"GradesAndRoles",setup(Wt){const te=localStorage.getItem("jwt")||"",V=[{value:1,label:"Entry"},{value:2,label:"Junior"},{value:3,label:"Mid"},{value:4,label:"Senior"},{value:5,label:"Lead"},{value:6,label:"Executive"}],q=l=>{const t=V.find(s=>Number(s.value)===Number(l));return t?t.label:l},I=v("jobgrades"),c=v(""),d=v(!1),g=v([]),D=v(!1),R=v(!1),a=v(_()),G=v(!0),h=v([]),N=v(!1),M=v(!1),o=v(z()),U=v([]),se=async()=>{d.value=!0,await x("/users",{},"Fetch Users").then(l=>U.value=l.records||[]).finally(()=>d.value=!1)},x=async(l,t={},s="API")=>{const{method:A="GET",body:X}=t;X?console.log(`[${s}] REQUEST:`,{endpoint:l,method:A,body:JSON.parse(X)}):console.log(`[${s}] REQUEST:`,{endpoint:l,method:A});try{const y=await fetch(`${Qt}${l}`,{...t,headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json",...t.headers||{}}});let E={};try{E=await y.json()}catch{}if(console.log(`[${s}] RESPONSE:`,{status:y.status,data:E}),!y.ok)throw new Error(E.message||y.statusText);return E}catch(y){throw console.error(`[${s}] ERROR:`,y),b.fire({title:"API Error",text:y.message,icon:"error",confirmButtonColor:"#f1416c"}),y}};function _(){return{GradeID:null,GradeCode:"",GradeName:"",MinSalary:"",MidSalary:"",MaxSalary:"",Level:1,Description:"",IsActive:1,CreatedAt:null,UpdatedAt:null,CreatedBy:"",UpdatedBy:""}}const j=w(()=>c.value?g.value.filter(l=>{var t,s;return((t=l.GradeName)==null?void 0:t.toLowerCase().includes(c.value.toLowerCase()))||((s=l.GradeCode)==null?void 0:s.toLowerCase().includes(c.value.toLowerCase()))}):g.value);function O(l=null){R.value=!!l,l?(a.value={...l},G.value=!1):(a.value=_(),G.value=!0,B()),D.value=!0}function B(){const l=q(a.value.Level||1).substring(0,2).toUpperCase(),t=Math.floor(100+Math.random()*900);a.value.GradeCode=`${l}${t}`,G.value=!0}ve(()=>a.value.Level,l=>{G.value&&!R.value&&B()});function P(l=!1){const t=new Date().toISOString();return{GradeID:l?a.value.GradeID:null,GradeCode:a.value.GradeCode||"",GradeName:a.value.GradeName||"",MinSalary:a.value.MinSalary!==""?a.value.MinSalary.toString():"0",MidSalary:a.value.MidSalary!==""?a.value.MidSalary.toString():"",MaxSalary:a.value.MaxSalary!==""?a.value.MaxSalary.toString():"0",Level:a.value.Level!==""?a.value.Level.toString():"1",Description:a.value.Description||"",IsActive:a.value.IsActive!==void 0&&a.value.IsActive!==null?a.value.IsActive.toString():"1",CreatedAt:l&&a.value.CreatedAt||t,UpdatedAt:t,CreatedBy:a.value.CreatedBy||"",UpdatedBy:a.value.UpdatedBy||""}}async function J(){d.value=!0,await x("/JobGrades",{},"Fetch JobGrades").then(l=>g.value=l.records||[]).finally(()=>d.value=!1)}async function F(){if(!a.value.GradeCode||!a.value.GradeName||a.value.MinSalary===""||a.value.MaxSalary===""||!a.value.Level||!a.value.CreatedBy){b.fire({title:"Validation Error!",text:"All required fields must be filled, including Created By.",icon:"warning",confirmButtonColor:"#f1416c"});return}d.value=!0;try{let l,t,s;R.value&&a.value.GradeID?(l=`/JobGrades/${a.value.GradeID}`,t="PATCH",s=P(!0),"GradeID"in s&&delete s.GradeID):(l="/JobGrades",t="POST",s=P(!1),s.GradeID=null),console.log("[JobGrade CRUD] About to",t,l,"Payload:",s),await x(l,{method:t,body:JSON.stringify(s)},"Save JobGrade"),D.value=!1,await J(),b.fire({title:"Success!",text:`Job grade ${R.value?"updated":"created"} successfully`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}finally{d.value=!1}}async function le(l){if(!l.GradeID)return;if((await b.fire({title:"Are you sure?",text:`Delete job grade "${l.GradeName}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",confirmButtonColor:"#f1416c"})).isConfirmed){d.value=!0;try{const s=`/JobGrades/${l.GradeID}`;console.log("[JobGrade CRUD] DELETE",s),await x(s,{method:"DELETE"},"Delete JobGrade"),await J(),b.fire({title:"Deleted!",text:"Job grade has been deleted",icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}finally{d.value=!1}}}function L(l){return Number(l||0).toLocaleString()}function z(){return{RoleID:null,RoleName:"",Description:"",IsSystem:0,CreatedAt:null,UpdatedAt:null,CreatedBy:"",UpdatedBy:""}}const H=w(()=>c.value?h.value.filter(l=>{var t;return(t=l.RoleName)==null?void 0:t.toLowerCase().includes(c.value.toLowerCase())}):h.value);function Y(l=null){M.value=!!l,o.value=l?{...l}:z(),N.value=!0}function Q(l=!1){const t=new Date().toISOString();return{RoleID:l?o.value.RoleID:null,RoleName:o.value.RoleName??"",Description:o.value.Description??"",IsSystem:o.value.IsSystem!==void 0&&o.value.IsSystem!==null?o.value.IsSystem.toString():"0",CreatedAt:l&&o.value.CreatedAt||t,UpdatedAt:t,CreatedBy:o.value.CreatedBy||"",UpdatedBy:o.value.UpdatedBy||""}}async function $(){d.value=!0,await x("/Roles",{},"Fetch Roles").then(l=>h.value=l.records||[]).finally(()=>d.value=!1)}async function K(){if(!o.value.RoleName||!o.value.CreatedBy){b.fire({title:"Validation Error!",text:"Role Name and Created By are required.",icon:"warning",confirmButtonColor:"#f1416c"});return}d.value=!0;try{let l,t,s;M.value&&o.value.RoleID?(l=`/Roles/${o.value.RoleID}`,t="PATCH",s=Q(!0)):(l="/Roles",t="POST",s=Q(!1)),console.log("[Role CRUD] About to",t,l,"Payload:",s),await x(l,{method:t,body:JSON.stringify(s)},"Save Role"),N.value=!1,await $(),b.fire({title:"Success!",text:`Role ${M.value?"updated":"created"} successfully`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}finally{d.value=!1}}async function ae(l){if(!l.RoleID)return;if((await b.fire({title:"Are you sure?",text:`Delete role "${l.RoleName}"?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",confirmButtonColor:"#f1416c"})).isConfirmed){d.value=!0;try{const s=`/Roles/${l.RoleID}`;console.log("[Role CRUD] DELETE",s),await x(s,{method:"DELETE"},"Delete Role"),await $(),b.fire({title:"Deleted!",text:"Role has been deleted",icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}finally{d.value=!1}}}const oe=w(()=>g.value.length<2?"Tip: Add at least 2 job grades for realistic HR analytics.":h.value.length<2?"Tip: Add several roles to separate system and custom responsibilities.":"Your Job Grades & Roles structure is on track."),ne=w(()=>g.value.some(l=>Number(l.MaxSalary)<Number(l.MinSalary))?"Some job grades have invalid salary ranges (Max < Min).":g.value.some(l=>Number(l.MinSalary)<100)?"AI: Min Salary should not be below national minimum wage.":"All job grades pass salary checks."),re=w(()=>h.value.some(l=>!l.RoleName||l.RoleName.length<3)?"Every role must have a descriptive name (min 3 chars).":h.value.some(l=>l.IsSystem==1&&(!l.Description||l.Description.length<10))?"System roles require a clear description for audit.":"All roles meet minimum requirements."),ie=w(()=>!a.value.GradeCode||!a.value.GradeName?"Grade Code and Name are required.":Number(a.value.MinSalary)<100?"AI: Min salary below standard. Adjust to at least 100.":Number(a.value.MaxSalary)<Number(a.value.MinSalary)?"Max salary cannot be less than min salary.":"Grade meets standards. Ready to save."),de=w(()=>!o.value.RoleName||o.value.RoleName.length<3?"Role Name is required (min 3 chars).":o.value.IsSystem==1&&(!o.value.Description||o.value.Description.length<10)?"System Role needs a description (10+ chars).":"Role meets standards. Ready to save.");ce(()=>{J(),$(),se()});const W=l=>{I.value=l,c.value=""};return(l,t)=>(i(),r("div",me,[e("div",pe,[e("div",fe,[e("div",null,[t[26]||(t[26]=Z('<div class="fs-1 fw-bold text-dark d-flex align-items-center mb-1" data-v-7c6faa29><i class="ki-duotone ki-medal-star fs-2hx text-primary me-3" data-v-7c6faa29><span class="path1" data-v-7c6faa29></span><span class="path2" data-v-7c6faa29></span><span class="path3" data-v-7c6faa29></span></i> Job Grades &amp; Roles Management </div><div class="fs-5 text-gray-600 mb-2" data-v-7c6faa29>All changes are logged with audit fields.</div>',2)),e("div",be,[t[25]||(t[25]=e("i",{class:"ki-duotone ki-brain fs-2 me-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),e("span",null,n(oe.value),1)])]),e("div",ye,[e("button",{onClick:t[0]||(t[0]=s=>O()),class:"btn btn-light-primary btn-lg fw-bold"},t[27]||(t[27]=[e("i",{class:"ki-duotone ki-plus fs-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),f(" New Job Grade ")])),e("button",{onClick:t[1]||(t[1]=s=>Y()),class:"btn btn-light-warning btn-lg fw-bold"},t[28]||(t[28]=[e("i",{class:"ki-duotone ki-plus fs-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),f(" New Role ")]))])])]),e("div",ge,[e("div",he,[e("div",xe,[e("a",{class:T(["nav-link fw-bold",{active:I.value==="jobgrades"}]),onClick:t[2]||(t[2]=s=>W("jobgrades")),role:"tab"},[t[29]||(t[29]=e("i",{class:"ki-duotone ki-medal-star fs-2 me-2"},[e("span",{class:"path1"}),e("span",{class:"path2"}),e("span",{class:"path3"})],-1)),t[30]||(t[30]=f(" Job Grades ")),e("span",we,n(g.value.length),1)],2),e("a",{class:T(["nav-link fw-bold",{active:I.value==="roles"}]),onClick:t[3]||(t[3]=s=>W("roles")),role:"tab"},[t[31]||(t[31]=e("i",{class:"ki-duotone ki-security-user fs-2 me-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),t[32]||(t[32]=f(" Roles ")),e("span",Se,n(h.value.length),1)],2)])])]),I.value==="jobgrades"?(i(),r("div",ke,[e("div",Ce,[e("div",Re,[e("div",Ge,[e("div",Ae,[t[33]||(t[33]=e("i",{class:"ki-duotone ki-magnifier fs-3 position-absolute ms-4"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>c.value=s),type:"text",class:"form-control form-control-solid w-250px ps-12",placeholder:"Search job grades..."},null,512),[[m,c.value]])])])]),e("div",Ie,[e("div",De,[t[35]||(t[35]=e("i",{class:"ki-duotone ki-light-bulb fs-2hx text-warning"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),e("span",null,[t[34]||(t[34]=e("b",null,"AI:",-1)),f(" "+n(ne.value),1)])]),e("div",Ne,[e("table",Me,[t[39]||(t[39]=e("thead",null,[e("tr",{class:"text-start text-gray-500 fw-bold fs-7 text-uppercase gs-0"},[e("th",null,"Grade Code"),e("th",null,"Grade Name"),e("th",null,"Level"),e("th",null,"Salary Range"),e("th",null,"Status"),e("th",{class:"text-end"},"Actions")])],-1)),e("tbody",Ue,[(i(!0),r(S,null,k(j.value,s=>(i(),r("tr",{key:s.GradeID},[e("td",null,[e("span",Be,n(s.GradeCode),1)]),e("td",Ee,n(s.GradeName),1),e("td",null,[e("span",Te,"Level "+n(q(s.Level)),1)]),e("td",null,[e("span",Je,n(L(s.MinSalary))+" - "+n(L(s.MaxSalary)),1),s.MidSalary?(i(),r("span",Le,"Mid: "+n(L(s.MidSalary)),1)):p("",!0)]),e("td",null,[e("span",{class:T(s.IsActive==1?"badge badge-light-success":"badge badge-light-danger")},n(s.IsActive==1?"Active":"Inactive"),3)]),e("td",$e,[e("button",{onClick:A=>O(s),class:"btn btn-icon btn-light-primary btn-sm me-2"},t[36]||(t[36]=[e("i",{class:"ki-duotone ki-pencil fs-5"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]),8,Ve),e("button",{onClick:A=>le(s),class:"btn btn-icon btn-light-danger btn-sm"},t[37]||(t[37]=[e("i",{class:"ki-duotone ki-trash fs-5"},[e("span",{class:"path1"}),e("span",{class:"path2"}),e("span",{class:"path3"})],-1)]),8,qe)])]))),128)),j.value.length===0?(i(),r("tr",_e,t[38]||(t[38]=[e("td",{colspan:"6",class:"text-center text-muted py-10"},[e("i",{class:"ki-duotone ki-search-list fs-3x text-gray-300 mb-3"},[e("span",{class:"path1"}),e("span",{class:"path2"}),e("span",{class:"path3"})]),e("div",null,"No job grades found")],-1)]))):p("",!0)])])])])])])):p("",!0),I.value==="roles"?(i(),r("div",je,[e("div",Oe,[e("div",Pe,[e("div",Fe,[e("div",ze,[t[40]||(t[40]=e("i",{class:"ki-duotone ki-magnifier fs-3 position-absolute ms-4"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>c.value=s),type:"text",class:"form-control form-control-solid w-250px ps-12",placeholder:"Search roles..."},null,512),[[m,c.value]])])])]),e("div",He,[e("div",Ye,[t[42]||(t[42]=e("i",{class:"ki-duotone ki-shield-check fs-2hx text-warning"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),e("span",null,[t[41]||(t[41]=e("b",null,"AI:",-1)),f(" "+n(re.value),1)])]),e("div",Qe,[e("table",Ke,[t[46]||(t[46]=e("thead",null,[e("tr",{class:"text-start text-gray-500 fw-bold fs-7 text-uppercase gs-0"},[e("th",null,"Role Name"),e("th",null,"Description"),e("th",null,"Type"),e("th",null,"Created"),e("th",{class:"text-end"},"Actions")])],-1)),e("tbody",We,[(i(!0),r(S,null,k(H.value,s=>(i(),r("tr",{key:s.RoleID},[e("td",Xe,n(s.RoleName),1),e("td",null,[e("div",Ze,n(s.Description||"No description"),1)]),e("td",null,[e("span",{class:T(["badge",s.IsSystem==1?"badge-light-danger":"badge-light-primary"])},n(s.IsSystem==1?"System":"Custom"),3)]),e("td",null,[e("div",et,n(s.CreatedAt?new Date(s.CreatedAt).toLocaleDateString():"-"),1)]),e("td",tt,[e("button",{onClick:A=>Y(s),class:"btn btn-icon btn-light-primary btn-sm me-2"},t[43]||(t[43]=[e("i",{class:"ki-duotone ki-pencil fs-5"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]),8,st),e("button",{onClick:A=>ae(s),class:"btn btn-icon btn-light-danger btn-sm",disabled:s.IsSystem==1},t[44]||(t[44]=[e("i",{class:"ki-duotone ki-trash fs-5"},[e("span",{class:"path1"}),e("span",{class:"path2"}),e("span",{class:"path3"})],-1)]),8,lt)])]))),128)),H.value.length===0?(i(),r("tr",at,t[45]||(t[45]=[e("td",{colspan:"5",class:"text-center text-muted py-10"},[e("i",{class:"ki-duotone ki-search-list fs-3x text-gray-300 mb-3"},[e("span",{class:"path1"}),e("span",{class:"path2"}),e("span",{class:"path3"})]),e("div",null,"No roles found")],-1)]))):p("",!0)])])])])])])):p("",!0),D.value?(i(),r("div",ot,[e("div",nt,[e("div",rt,[e("div",it,[e("h2",dt,n(R.value?"Edit":"New")+" Job Grade",1),e("button",{onClick:t[6]||(t[6]=s=>D.value=!1),class:"btn btn-icon btn-sm btn-active-light-primary"},t[47]||(t[47]=[e("i",{class:"ki-duotone ki-cross fs-1"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]))]),e("div",ut,[e("form",{onSubmit:ee(F,["prevent"]),novalidate:""},[e("div",vt,[e("div",ct,[t[48]||(t[48]=e("label",{class:"required form-label"},"Grade Code",-1)),e("div",mt,[u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>a.value.GradeCode=s),type:"text",class:"form-control form-control-lg",required:"",readonly:G.value},null,8,pt),[[m,a.value.GradeCode]]),G.value?(i(),r("button",{key:0,class:"btn btn-light-success",type:"button",onClick:B}," Regenerate ")):(i(),r("button",{key:1,class:"btn btn-light-primary",type:"button",onClick:B}," Auto Generate "))]),t[49]||(t[49]=e("div",{class:"form-text"}," A unique short code (e.g. JR01, SN02). Auto-generated by system but editable. ",-1))]),e("div",ft,[t[50]||(t[50]=e("label",{class:"required form-label"},"Grade Name",-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>a.value.GradeName=s),type:"text",class:"form-control form-control-lg",required:""},null,512),[[m,a.value.GradeName]]),t[51]||(t[51]=e("div",{class:"form-text"},' The full name of the job grade. E.g. "Senior Analyst", "Entry Technician". ',-1))]),e("div",bt,[t[52]||(t[52]=e("label",{class:"required form-label"},"Level",-1)),u(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>a.value.Level=s),class:"form-select form-select-lg",required:""},[(i(),r(S,null,k(V,s=>e("option",{key:s.value,value:s.value},n(s.label),9,yt)),64))],512),[[C,a.value.Level]]),t[53]||(t[53]=Z('<div class="form-text" data-v-7c6faa29> Job level, as per international convention. <b data-v-7c6faa29>Entry</b>=1, <b data-v-7c6faa29>Junior</b>=2, <b data-v-7c6faa29>Mid</b>=3, <b data-v-7c6faa29>Senior</b>=4, <b data-v-7c6faa29>Lead</b>=5, <b data-v-7c6faa29>Executive</b>=6 </div>',1))]),e("div",gt,[t[55]||(t[55]=e("label",{class:"form-label"},"Status",-1)),u(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>a.value.IsActive=s),class:"form-select form-select-lg"},t[54]||(t[54]=[e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)]),512),[[C,a.value.IsActive]]),t[56]||(t[56]=e("div",{class:"form-text"}," Active = grade is currently in use. Inactive = archived. ",-1))]),e("div",ht,[t[57]||(t[57]=e("label",{class:"required form-label"},"Min Salary",-1)),u(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>a.value.MinSalary=s),type:"number",class:"form-control form-control-lg",required:""},null,512),[[m,a.value.MinSalary]]),t[58]||(t[58]=e("div",{class:"form-text"},"The lowest possible salary for this grade.",-1))]),e("div",xt,[t[59]||(t[59]=e("label",{class:"form-label"},"Mid Salary",-1)),u(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>a.value.MidSalary=s),type:"number",class:"form-control form-control-lg"},null,512),[[m,a.value.MidSalary]]),t[60]||(t[60]=e("div",{class:"form-text"}," The midpoint salary for this grade (optional, used for benchmarking). ",-1))]),e("div",wt,[t[61]||(t[61]=e("label",{class:"required form-label"},"Max Salary",-1)),u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>a.value.MaxSalary=s),type:"number",class:"form-control form-control-lg",required:""},null,512),[[m,a.value.MaxSalary]]),t[62]||(t[62]=e("div",{class:"form-text"},"The highest possible salary for this grade.",-1))]),e("div",St,[t[63]||(t[63]=e("label",{class:"form-label"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>a.value.Description=s),class:"form-control form-control-lg",rows:"3"},null,512),[[m,a.value.Description]]),t[64]||(t[64]=e("div",{class:"form-text"},"Free-form explanation of what this grade covers.",-1))]),e("div",kt,[t[66]||(t[66]=e("label",{class:"form-label"},"Created By (User)",-1)),u(e("select",{"onUpdate:modelValue":t[15]||(t[15]=s=>a.value.CreatedBy=s),class:"form-select form-select-lg"},[t[65]||(t[65]=e("option",{value:""},"Select user...",-1)),(i(!0),r(S,null,k(U.value,s=>(i(),r("option",{key:s.id,value:s.id},n(s.name),9,Ct))),128))],512),[[C,a.value.CreatedBy]]),t[67]||(t[67]=e("div",{class:"form-text"},[f(" User who created this grade. "),e("b",null,"Required for audit logging.")],-1))]),e("div",Rt,[t[69]||(t[69]=e("label",{class:"form-label"},"Updated By (User)",-1)),u(e("select",{"onUpdate:modelValue":t[16]||(t[16]=s=>a.value.UpdatedBy=s),class:"form-select form-select-lg"},[t[68]||(t[68]=e("option",{value:""},"Select user...",-1)),(i(!0),r(S,null,k(U.value,s=>(i(),r("option",{key:s.id,value:s.id},n(s.name),9,Gt))),128))],512),[[C,a.value.UpdatedBy]]),t[70]||(t[70]=e("div",{class:"form-text"},"User who last updated this grade.",-1))])])],32),e("div",At,[t[71]||(t[71]=e("i",{class:"ki-duotone ki-alert-triangle fs-2 text-warning me-3"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),e("span",null,n(ie.value),1)])]),e("div",It,[e("button",{onClick:t[17]||(t[17]=s=>D.value=!1),class:"btn btn-light me-3"},"Cancel"),e("button",{onClick:F,class:"btn btn-primary",disabled:d.value},[d.value?(i(),r("span",Nt)):p("",!0),f(" "+n(R.value?"Update":"Create")+" Grade ",1)],8,Dt)])])])])):p("",!0),N.value?(i(),r("div",Mt,[e("div",Ut,[e("div",Bt,[e("div",Et,[e("h2",Tt,n(M.value?"Edit":"New")+" Role",1),e("button",{onClick:t[18]||(t[18]=s=>N.value=!1),class:"btn btn-icon btn-sm btn-active-light-primary"},t[72]||(t[72]=[e("i",{class:"ki-duotone ki-cross fs-1"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]))]),e("div",Jt,[e("form",{onSubmit:ee(K,["prevent"]),novalidate:""},[e("div",Lt,[e("div",$t,[t[73]||(t[73]=e("label",{class:"required form-label"},"Role Name",-1)),u(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>o.value.RoleName=s),type:"text",class:"form-control form-control-lg",required:""},null,512),[[m,o.value.RoleName]]),t[74]||(t[74]=e("div",{class:"form-text"},' A clear descriptive name for this role. E.g. "Supervisor", "Finance Admin". ',-1))]),e("div",Vt,[t[76]||(t[76]=e("label",{class:"form-label"},"Role Type",-1)),u(e("select",{"onUpdate:modelValue":t[20]||(t[20]=s=>o.value.IsSystem=s),class:"form-select form-select-lg"},t[75]||(t[75]=[e("option",{value:"0"},"Custom Role",-1),e("option",{value:"1"},"System Role",-1)]),512),[[C,o.value.IsSystem]]),t[77]||(t[77]=e("div",{class:"form-text"}," System roles are essential for application operation and cannot be deleted. ",-1))]),e("div",qt,[t[78]||(t[78]=e("label",{class:"form-label"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=s=>o.value.Description=s),class:"form-control form-control-lg",rows:"4"},null,512),[[m,o.value.Description]]),t[79]||(t[79]=e("div",{class:"form-text"}," Explain what this role is responsible for, and the permissions it grants. ",-1))]),e("div",_t,[t[81]||(t[81]=e("label",{class:"form-label"},"Created By (User)",-1)),u(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>o.value.CreatedBy=s),class:"form-select form-select-lg"},[t[80]||(t[80]=e("option",{value:""},"Select user...",-1)),(i(!0),r(S,null,k(U.value,s=>(i(),r("option",{key:s.id,value:s.id},n(s.name),9,jt))),128))],512),[[C,o.value.CreatedBy]]),t[82]||(t[82]=e("div",{class:"form-text"}," User who created this role. Required for audit logging. ",-1))]),e("div",Ot,[t[84]||(t[84]=e("label",{class:"form-label"},"Updated By (User)",-1)),u(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>o.value.UpdatedBy=s),class:"form-select form-select-lg"},[t[83]||(t[83]=e("option",{value:""},"Select user...",-1)),(i(!0),r(S,null,k(U.value,s=>(i(),r("option",{key:s.id,value:s.id},n(s.name),9,Pt))),128))],512),[[C,o.value.UpdatedBy]]),t[85]||(t[85]=e("div",{class:"form-text"},"User who last updated this role.",-1))])])],32),e("div",Ft,[t[86]||(t[86]=e("i",{class:"ki-duotone ki-alert-triangle fs-2 text-warning me-3"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),e("span",null,n(de.value),1)])]),e("div",zt,[e("button",{onClick:t[24]||(t[24]=s=>N.value=!1),class:"btn btn-light me-3"},"Cancel"),e("button",{onClick:K,class:"btn btn-warning",disabled:d.value},[d.value?(i(),r("span",Yt)):p("",!0),f(" "+n(M.value?"Update":"Create")+" Role ",1)],8,Ht)])])])])):p("",!0)]))}},Zt=ue(Kt,[["__scopeId","data-v-7c6faa29"]]);export{Zt as default};
