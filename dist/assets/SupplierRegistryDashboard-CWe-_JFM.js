import{_ as ss,r as u,c as ts,o as es,b as r,d as s,e as k,n as f,f as M,t as l,x as V,w as m,v as x,B as Q,g as _,F as as,h as ls,k as $,S as j,i as c}from"./index-BJk99QVQ.js";const os={class:"d-flex flex-column mh-100 p-5 p-md-10",style:{"background-color":"#f5f5f5"}},is={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-7"},ns={key:0,class:"card shadow-sm mb-5",style:{"border-radius":"12px"}},ds={class:"card-body py-10 px-lg-10",style:{"background-color":"#ffffff","border-bottom-left-radius":"12px","border-bottom-right-radius":"12px"}},rs={class:"row g-5 g-lg-8"},cs={class:"col-12"},us={key:0,class:"fv-plugins-message-container invalid-feedback"},ps={class:"col-12 col-md-6"},fs={class:"col-12 col-md-6"},ms={key:0,class:"fv-plugins-message-container invalid-feedback"},vs={class:"col-12 col-md-6"},bs={key:0,class:"fv-plugins-message-container invalid-feedback"},gs={class:"col-12 col-md-6"},hs={class:"col-12"},xs={class:"col-12"},ys={class:"d-flex flex-wrap gap-5"},ws={class:"form-check form-check-custom form-check-solid"},ks={class:"form-check form-check-custom form-check-solid"},_s={class:"d-flex flex-column flex-sm-row justify-content-end gap-3 mt-10"},Ss=["disabled"],Cs={key:1},As={class:"row g-5 g-xl-8 mb-5 mb-xl-8"},Ns={class:"col-6 col-md-3"},Is={class:"card card-flush bgi-no-repeat bgi-size-contain bgi-position-x-end h-100",style:{"background-color":"#f9f9f9","border-radius":"12px"}},Rs={class:"card-body d-flex flex-column justify-content-center text-center py-6"},Ds={class:"fs-1 fw-bolder text-gray-900"},Es={class:"col-6 col-md-3"},Ps={class:"card card-flush bgi-no-repeat bgi-size-contain bgi-position-x-end h-100",style:{"background-color":"#f9f9f9","border-radius":"12px"}},Ts={class:"card-body d-flex flex-column justify-content-center text-center py-6"},Fs={class:"fs-1 fw-bolder text-gray-900"},Ms={class:"col-6 col-md-3"},Vs={class:"card card-flush bgi-no-repeat bgi-size-contain bgi-position-x-end h-100",style:{"background-color":"#f9f9f9","border-radius":"12px"}},js={class:"card-body d-flex flex-column justify-content-center text-center py-6"},Gs={class:"fs-1 fw-bolder text-gray-900"},Ls={class:"col-6 col-md-3"},Bs={class:"card card-flush bgi-no-repeat bgi-size-contain bgi-position-x-end h-100",style:{"background-color":"#f9f9f9","border-radius":"12px"}},Xs={class:"card-body d-flex flex-column justify-content-center text-center py-6"},Os={class:"fs-1 fw-bolder text-gray-900"},Us={class:"row g-5 g-xl-8 mb-5 mb-xl-8"},Js={class:"col-12 col-lg-7"},zs={class:"card shadow-sm h-100",style:{"border-radius":"12px"}},Qs={class:"card-body"},$s={class:"row g-5"},qs={class:"col-12 col-md-6"},Ws={class:"col-12 col-md-6"},Zs={class:"col-12 col-lg-5"},Ks={class:"card shadow-sm h-100",style:{"border-radius":"12px"}},Ys={class:"card-body d-flex flex-column justify-content-around"},Hs={class:"d-flex align-items-center bg-light-success rounded p-5 mb-5"},st={class:"flex-grow-1 me-2"},tt={class:"text-muted fw-semibold d-block"},et={class:"fw-bold text-success py-1 fs-3"},at={class:"d-flex align-items-center bg-light-warning rounded p-5 mb-5"},lt={class:"flex-grow-1 me-2"},ot={class:"text-muted fw-semibold d-block"},it={class:"fw-bold text-warning py-1 fs-3"},nt={class:"d-flex align-items-center bg-light-danger rounded p-5"},dt={class:"flex-grow-1 me-2"},rt={class:"text-muted fw-semibold d-block"},ct={class:"fw-bold text-danger py-1 fs-3"},ut={class:"card shadow-sm",style:{"border-radius":"12px"}},pt={class:"card-header border-0 pt-6"},ft={class:"card-title align-items-start flex-column"},mt={class:"text-muted mt-1 fw-semibold fs-7"},vt={class:"card-toolbar"},bt={class:"d-flex align-items-center position-relative my-1"},gt={class:"card-body py-3"},ht={key:0,class:"d-flex justify-content-center align-items-center min-h-200px"},xt={key:1,class:"d-flex flex-column align-items-center justify-content-center min-h-200px text-center"},yt={key:2,class:"list-group list-group-flush"},wt={class:"d-flex align-items-center mb-3 mb-sm-0"},kt={class:"symbol symbol-50px me-4"},_t={class:"d-flex justify-content-start flex-column"},St=["onClick"],Ct={class:"text-muted fw-semibold text-muted d-block fs-7"},At={class:"d-flex flex-column align-items-sm-end"},Nt={class:"text-muted fs-7"},It=["onClick"],Rt={key:2,class:"modal-backdrop fade show"},Dt={class:"modal-dialog modal-dialog-centered modal-lg"},Et={key:0,class:"modal-content",style:{"border-radius":"12px"}},Pt={class:"modal-body px-7 py-5"},Tt={class:"d-flex align-items-center mb-7"},Ft={class:"symbol symbol-75px symbol-circle me-5"},Mt={class:"flex-grow-1"},Vt={class:"fw-bolder text-gray-900 mb-1"},jt={class:"text-muted fw-semibold fs-6"},Gt={class:"d-flex flex-wrap justify-content-start gap-3 mb-7"},Lt={class:"row g-5 mb-3"},Bt={class:"col-md-6"},Xt={class:"fw-bold text-gray-800 fs-6"},Ot={class:"col-md-6"},Ut={class:"fw-bold text-gray-800 fs-6"},Jt={class:"row g-5 mb-7"},zt={class:"col-md-6"},Qt={class:"fw-bold text-gray-800 fs-6"},$t={class:"col-md-6"},qt={class:"fw-bold text-gray-800 fs-6"},Wt={class:"d-flex flex-stack"},Zt={class:"fw-bold text-gray-800 fs-6"},q="https://backend.cloudfuelstationmis.com/api/records/v1",Kt={__name:"SupplierRegistryDashboard",setup(Yt){const v=u(!1),A=u(!1),N=u(!1),S=u(""),d=u([]),b=u({totalSuppliers:0,activeSuppliers:0,globalSuppliers:0,newThisMonth:0}),h=u({lowRisk:0,mediumRisk:0,highRisk:0}),n=u({}),o=u({Name:"",ContactPerson:"",Email:"",Phone:"",Address:"",TaxIdentificationNumber:"",IsGlobal:"0",Status:"Active"}),C=u(!1),i=u(null),I=u(null),R=u(null);let y=null,w=null;const G=localStorage.getItem("jwt")||"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiJkMDc1QVZVSVNCcW9HN3dvZFV0MVZ3PT0iLCJpYXQiOjE3NTAyNDc4ODgsImV4cCI6MTc1MDI1MTQ4OCwiZW1haWwiOiJhZG1pbkBsb2NhbGhvc3QiLCJjc3JmX3Rva2VuIjoiOWdWQmpzU0MzN1NBTmVhU3pCelQifQ.i-Lj_KsB-TXZ1vgsu4CPEdICamdOznhKDh42Jx7oi4F29K5voeBER5bBycrnQ0uK7-G45F-18SibATxo_F3rBQ",D=ts(()=>S.value?d.value.filter(a=>a.Name.toLowerCase().includes(S.value.toLowerCase())||a.ContactPerson&&a.ContactPerson.toLowerCase().includes(S.value.toLowerCase())).slice(0,6):d.value.slice(0,6)),L=a=>!a||typeof a!="string"?"NA":a.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase(),E=["bg-primary","bg-success","bg-info","bg-warning","bg-danger","bg-dark"],B=a=>{if(!a)return"bg-secondary text-inverse-secondary";let t=0;for(let p=0;p<a.length;p++)t=a.charCodeAt(p)+((t<<5)-t);const e=Math.abs(t%E.length);return`${E[e]} text-inverse-${E[e].replace("bg-","")}`},W=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}catch{return a}},P=(a,t)=>t===0?0:(a/t*100).toFixed(0),X=a=>{i.value=a,C.value=!0,document.body.classList.add("modal-open")},T=()=>{C.value=!1,document.body.classList.remove("modal-open"),setTimeout(()=>{i.value=null},300)},Z=()=>{v.value=!v.value,v.value?(y&&y.destroy(),w&&w.destroy(),y=null,w=null):(F(),$(()=>{d.value.length>0&&U()}))},F=()=>{o.value={Name:"",ContactPerson:"",Email:"",Phone:"",Address:"",TaxIdentificationNumber:"",IsGlobal:"0",Status:"Active"},n.value={}},K=()=>(n.value={},o.value.Name.trim()||(n.value.Name="Supplier name is required"),o.value.Phone.trim()?/^\+?[0-9\s-()]{7,15}$/.test(o.value.Phone.trim())||(n.value.Phone="Valid phone number required"):n.value.Phone="Phone number is required",o.value.Email&&!/\S+@\S+\.\S+/.test(o.value.Email)&&(n.value.Email="Valid email address required"),Object.keys(n.value).length===0),Y=async()=>{var a,t;if(K()){A.value=!0,(a=document.querySelector('[data-kt-indicator="on"]'))==null||a.setAttribute("data-kt-indicator","on");try{const e=await fetch(`${q}/Suppliers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({...o.value,CreatedAt:new Date().toISOString(),UpdatedAt:new Date().toISOString()})});if(e.ok)j.fire({title:"Success!",text:"Supplier registered.",icon:"success",toast:!0,position:"top-end",timer:2e3,showConfirmButton:!1}),F(),v.value=!1,await O();else{const p=await e.json().catch(()=>({}));throw new Error(p.message||`Registration failed. Status: ${e.status}`)}}catch(e){j.fire({title:"Error!",text:e.message||"Unexpected error.",icon:"error",confirmButtonColor:"#D9214E"})}finally{A.value=!1,(t=document.querySelector('[data-kt-indicator="on"]'))==null||t.setAttribute("data-kt-indicator","off")}}},O=async()=>{N.value=!0;try{const a=await fetch(`${q}/Suppliers?sort=-CreatedAt`,{headers:{Authorization:`Bearer ${G}`}});if(a.ok){const t=await a.json();d.value=t.records||[],b.value={totalSuppliers:d.value.length,activeSuppliers:d.value.filter(e=>e.Status==="Active").length,globalSuppliers:d.value.filter(e=>String(e.IsGlobal)==="1").length,newThisMonth:d.value.filter(e=>{if(!e.CreatedAt)return!1;const p=new Date(e.CreatedAt),g=new Date;return p.getMonth()===g.getMonth()&&p.getFullYear()===g.getFullYear()}).length},H(),v.value||$(()=>{U()})}else{const t=await a.json().catch(()=>({}));throw new Error(t.message||`Failed to load suppliers. Status: ${a.status}`)}}catch(a){j.fire({title:"Load Error!",text:a.message||"Failed to load data.",icon:"error",confirmButtonColor:"#D9214E"}),d.value=[]}finally{N.value=!1}},H=()=>{const a=d.value.map(t=>{let e=0;return t.Email&&t.Email.includes("@")||(e+=25),t.TaxIdentificationNumber&&t.TaxIdentificationNumber.length>0||(e+=30),t.Status!=="Active"&&(e+=40),String(t.IsGlobal)==="1"&&(e+=5),e});h.value={lowRisk:a.filter(t=>t<=30).length,mediumRisk:a.filter(t=>t>30&&t<=60).length,highRisk:a.filter(t=>t>60).length}},U=()=>{if(!I.value||!R.value||typeof Chart>"u")return;y&&y.destroy(),w&&w.destroy();const a={labels:["Active","Inactive","Pending"],datasets:[{data:[d.value.filter(e=>e.Status==="Active").length,d.value.filter(e=>e.Status==="Inactive").length,d.value.filter(e=>e.Status==="Pending").length],backgroundColor:["#3E97FF","#F1416C","#FFC700"],borderWidth:0}]};y=new Chart(I.value,{type:"doughnut",data:a,options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{display:!1}}}});const t=Array.from({length:6},(e,p)=>{const g=new Date;return g.setMonth(g.getMonth()-(5-p)),{month:g.toLocaleDateString("en-US",{month:"short"}),count:d.value.filter(J=>{if(!J.CreatedAt)return!1;const z=new Date(J.CreatedAt);return z.getMonth()===g.getMonth()&&z.getFullYear()===g.getFullYear()}).length}});w=new Chart(R.value,{type:"line",data:{labels:t.map(e=>e.month),datasets:[{label:"New Suppliers",data:t.map(e=>e.count),borderColor:"#3E97FF",backgroundColor:"rgba(62, 151, 255, 0.1)",tension:.4,fill:!0,pointRadius:4,pointBackgroundColor:"#3E97FF"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,precision:0}},x:{grid:{display:!1}}}}})};return es(async()=>{await O()}),(a,t)=>(c(),r("div",os,[s("div",is,[t[10]||(t[10]=s("div",{class:"mb-3 mb-md-0"},[s("h1",{class:"fs-1 fw-bolder text-gray-900 mb-0"},"Suppliers"),s("p",{class:"fs-6 fw-semibold text-gray-600"},"Manage and track supplier metrics")],-1)),s("button",{onClick:Z,class:f(["btn btn-lg w-100 w-md-auto",v.value?"btn-outline btn-outline-dashed btn-outline-primary btn-active-light-primary":"btn-primary"])},[t[9]||(t[9]=s("i",{class:"ki-duotone ki-plus fs-2"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)),M(" "+l(v.value?"View Dashboard":"Add Supplier"),1)],2)]),v.value?(c(),r("div",ns,[t[21]||(t[21]=s("div",{class:"card-header border-0 pt-6",style:{"background-color":"#ffffff","border-top-left-radius":"12px","border-top-right-radius":"12px"}},[s("h3",{class:"card-title align-items-start flex-column"},[s("span",{class:"card-label fw-bolder fs-3 mb-1 text-gray-900"},"New Supplier"),s("span",{class:"text-muted mt-1 fw-semibold fs-7"},"Enter supplier details below")])],-1)),s("div",ds,[s("form",{onSubmit:V(Y,["prevent"]),novalidate:""},[s("div",rs,[s("div",cs,[t[11]||(t[11]=s("label",{class:"required form-label fw-bold fs-6"},"Supplier Name",-1)),m(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.value.Name=e),type:"text",class:f(["form-control form-control-lg form-control-solid",{"is-invalid border-danger":n.value.Name}]),placeholder:"e.g., Kigrama Fuels Ltd",required:""},null,2),[[x,o.value.Name]]),n.value.Name?(c(),r("div",us,l(n.value.Name),1)):k("",!0)]),s("div",ps,[t[12]||(t[12]=s("label",{class:"form-label fw-bold fs-6"},"Contact Person",-1)),m(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.ContactPerson=e),type:"text",class:"form-control form-control-lg form-control-solid",placeholder:"e.g., John Doe"},null,512),[[x,o.value.ContactPerson]])]),s("div",fs,[t[13]||(t[13]=s("label",{class:"required form-label fw-bold fs-6"},"Phone Number",-1)),m(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.Phone=e),type:"tel",class:f(["form-control form-control-lg form-control-solid",{"is-invalid border-danger":n.value.Phone}]),placeholder:"+256 7XX XXX XXX",required:""},null,2),[[x,o.value.Phone]]),n.value.Phone?(c(),r("div",ms,l(n.value.Phone),1)):k("",!0)]),s("div",vs,[t[14]||(t[14]=s("label",{class:"form-label fw-bold fs-6"},"Email Address",-1)),m(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.Email=e),type:"email",class:f(["form-control form-control-lg form-control-solid",{"is-invalid border-danger":n.value.Email}]),placeholder:"supplier@example.com"},null,2),[[x,o.value.Email]]),n.value.Email?(c(),r("div",bs,l(n.value.Email),1)):k("",!0)]),s("div",gs,[t[15]||(t[15]=s("label",{class:"form-label fw-bold fs-6"},"Tax ID Number",-1)),m(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.value.TaxIdentificationNumber=e),type:"text",class:"form-control form-control-lg form-control-solid",placeholder:"e.g., 100XXXXXXX"},null,512),[[x,o.value.TaxIdentificationNumber]])]),s("div",hs,[t[16]||(t[16]=s("label",{class:"form-label fw-bold fs-6"},"Address",-1)),m(s("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.value.Address=e),rows:"3",class:"form-control form-control-lg form-control-solid",placeholder:"Full business address"},null,512),[[x,o.value.Address]])]),s("div",xs,[t[19]||(t[19]=s("label",{class:"form-label fw-bold fs-6 mb-3"},"Supplier Type",-1)),s("div",ys,[s("div",ws,[m(s("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[6]||(t[6]=e=>o.value.IsGlobal=e),value:"0",id:"localSupplierRadio"},null,512),[[Q,o.value.IsGlobal]]),t[17]||(t[17]=s("label",{class:"form-check-label fs-6 text-gray-800",for:"localSupplierRadio"}," Local Supplier ",-1))]),s("div",ks,[m(s("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":t[7]||(t[7]=e=>o.value.IsGlobal=e),value:"1",id:"globalSupplierRadio"},null,512),[[Q,o.value.IsGlobal]]),t[18]||(t[18]=s("label",{class:"form-check-label fs-6 text-gray-800",for:"globalSupplierRadio"}," Global Supplier ",-1))])])])]),s("div",_s,[s("button",{type:"button",onClick:F,class:"btn btn-light btn-lg w-100 w-sm-auto"}," Reset "),s("button",{type:"submit",class:"btn btn-success btn-lg w-100 w-sm-auto",disabled:A.value,"data-kt-indicator":"on"},t[20]||(t[20]=[_('<span class="indicator-label" data-v-0184cdc4><i class="ki-duotone ki-check fs-3 me-1" data-v-0184cdc4><span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span></i> Register Supplier </span><span class="indicator-progress" data-v-0184cdc4> Please wait... <span class="spinner-border spinner-border-sm align-middle ms-2" data-v-0184cdc4></span></span>',2)]),8,Ss)])],32)])])):(c(),r("div",Cs,[s("div",As,[s("div",Ns,[s("div",Is,[s("div",Rs,[t[22]||(t[22]=_('<i class="ki-duotone ki-people fs-3x text-primary mb-3" data-v-0184cdc4><span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span><span class="path3" data-v-0184cdc4></span><span class="path4" data-v-0184cdc4></span><span class="path5" data-v-0184cdc4></span></i>',1)),s("div",Ds,l(b.value.totalSuppliers),1),t[23]||(t[23]=s("div",{class:"fs-7 fw-semibold text-gray-600"},"Total Suppliers",-1))])])]),s("div",Es,[s("div",Ps,[s("div",Ts,[t[24]||(t[24]=s("i",{class:"ki-duotone ki-shield-tick fs-3x text-success mb-3"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)),s("div",Fs,l(b.value.activeSuppliers),1),t[25]||(t[25]=s("div",{class:"fs-7 fw-semibold text-gray-600"},"Active",-1))])])]),s("div",Ms,[s("div",Vs,[s("div",js,[t[26]||(t[26]=_('<i class="ki-duotone ki-delivery fs-3x text-warning mb-3" data-v-0184cdc4><span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span><span class="path3" data-v-0184cdc4></span><span class="path4" data-v-0184cdc4></span><span class="path5" data-v-0184cdc4></span></i>',1)),s("div",Gs,l(b.value.globalSuppliers),1),t[27]||(t[27]=s("div",{class:"fs-7 fw-semibold text-gray-600"},"Global",-1))])])]),s("div",Ls,[s("div",Bs,[s("div",Xs,[t[28]||(t[28]=_('<i class="ki-duotone ki-calendar-tick fs-3x text-info mb-3" data-v-0184cdc4><span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span><span class="path3" data-v-0184cdc4></span><span class="path4" data-v-0184cdc4></span><span class="path5" data-v-0184cdc4></span><span class="path6" data-v-0184cdc4></span></i>',1)),s("div",Os,l(b.value.newThisMonth),1),t[29]||(t[29]=s("div",{class:"fs-7 fw-semibold text-gray-600"},"New This Month",-1))])])])]),s("div",Us,[s("div",Js,[s("div",zs,[t[30]||(t[30]=s("div",{class:"card-header border-0 pt-6"},[s("h3",{class:"card-title align-items-start flex-column"},[s("span",{class:"card-label fw-bolder fs-3 mb-1 text-gray-900"},"Supplier Overview")])],-1)),s("div",Qs,[s("div",$s,[s("div",qs,[s("canvas",{ref_key:"statusChartEl",ref:I,style:{height:"250px"}},null,512)]),s("div",Ws,[s("canvas",{ref_key:"trendChartEl",ref:R,style:{height:"250px"}},null,512)])])])])]),s("div",Zs,[s("div",Ks,[t[37]||(t[37]=s("div",{class:"card-header border-0 pt-6"},[s("h3",{class:"card-title align-items-start flex-column"},[s("span",{class:"card-label fw-bolder fs-3 mb-1 text-gray-900"},"AI Risk Assessment"),s("span",{class:"text-muted mt-1 fw-semibold fs-7"},"Simulated supplier risk levels")])],-1)),s("div",Ys,[s("div",Hs,[t[32]||(t[32]=s("i",{class:"ki-duotone ki-shield-tick fs-3x text-success me-5"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)),s("div",st,[t[31]||(t[31]=s("a",{href:"#",class:"fw-bold text-gray-800 text-hover-primary fs-6"},"Low Risk",-1)),s("span",tt,l(h.value.lowRisk)+" Suppliers",1)]),s("span",et,l(P(h.value.lowRisk,b.value.totalSuppliers))+"%",1)]),s("div",at,[t[34]||(t[34]=s("i",{class:"ki-duotone ki-shield-alert fs-3x text-warning me-5"},[s("span",{class:"path1"}),s("span",{class:"path2"}),s("span",{class:"path3"})],-1)),s("div",lt,[t[33]||(t[33]=s("a",{href:"#",class:"fw-bold text-gray-800 text-hover-primary fs-6"},"Medium Risk",-1)),s("span",ot,l(h.value.mediumRisk)+" Suppliers",1)]),s("span",it,l(P(h.value.mediumRisk,b.value.totalSuppliers))+"%",1)]),s("div",nt,[t[36]||(t[36]=s("i",{class:"ki-duotone ki-shield-cross fs-3x text-danger me-5"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)),s("div",dt,[t[35]||(t[35]=s("a",{href:"#",class:"fw-bold text-gray-800 text-hover-primary fs-6"},"High Risk",-1)),s("span",rt,l(h.value.highRisk)+" Suppliers",1)]),s("span",ct,l(P(h.value.highRisk,b.value.totalSuppliers))+"%",1)])])])])]),s("div",ut,[s("div",pt,[s("h3",ft,[t[38]||(t[38]=s("span",{class:"card-label fw-bolder fs-3 mb-1 text-gray-900"},"Recent Suppliers",-1)),s("span",mt,"Top "+l(D.value.length)+" recently added or updated",1)]),s("div",vt,[s("div",bt,[t[39]||(t[39]=s("i",{class:"ki-duotone ki-magnifier fs-3 position-absolute ms-4"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)),m(s("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>S.value=e),type:"text",class:"form-control form-control-solid w-200px ps-12",placeholder:"Search Suppliers"},null,512),[[x,S.value]])])])]),s("div",gt,[N.value?(c(),r("div",ht,t[40]||(t[40]=[s("div",{class:"spinner-border text-primary",role:"status"},[s("span",{class:"visually-hidden"},"Loading...")],-1)]))):D.value.length===0?(c(),r("div",xt,t[41]||(t[41]=[_('<i class="ki-duotone ki-abstract-14 fs-5x text-gray-400 mb-3" data-v-0184cdc4><span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span></i><p class="fs-4 text-gray-600 fw-semibold" data-v-0184cdc4>No suppliers found.</p><p class="fs-6 text-gray-500" data-v-0184cdc4>Try adjusting your search or add a new supplier.</p>',3)]))):(c(),r("div",yt,[(c(!0),r(as,null,ls(D.value,e=>(c(),r("div",{key:e.SupplierID,class:"list-group-item d-flex flex-column flex-sm-row align-items-sm-center justify-content-between py-5 px-0"},[s("div",wt,[s("div",kt,[s("div",{class:f(["symbol-label fs-2 fw-bold",B(e.Name)])},l(L(e.Name)),3)]),s("div",_t,[s("a",{href:"#",onClick:V(p=>X(e),["prevent"]),class:"text-gray-800 fw-bold text-hover-primary fs-6"},l(e.Name),9,St),s("span",Ct,l(e.ContactPerson||"No contact person"),1)])]),s("div",At,[s("span",{class:f(["badge fs-7 mb-1",{"badge-light-success":e.Status==="Active","badge-light-danger":e.Status==="Inactive","badge-light-warning":e.Status==="Pending"}])},l(e.Status),3),s("span",Nt,l(e.IsGlobal==="1"?"Global":"Local"),1)]),s("button",{onClick:p=>X(e),class:"btn btn-sm btn-light-primary mt-3 mt-sm-0 ms-sm-5"}," View ",8,It)]))),128))]))])])])),C.value?(c(),r("div",Rt)):k("",!0),C.value?(c(),r("div",{key:3,onClick:V(T,["self"]),class:"modal fade show",style:{display:"block"},tabindex:"-1","aria-modal":"true",role:"dialog"},[s("div",Dt,[i.value?(c(),r("div",Et,[s("div",{class:"modal-header border-0 pt-7 pb-5 px-7"},[t[43]||(t[43]=s("h3",{class:"modal-title fw-bolder fs-3 text-gray-900"},"Supplier Information",-1)),s("div",{onClick:T,class:"btn btn-icon btn-sm btn-active-light-primary ms-2","aria-label":"Close"},t[42]||(t[42]=[s("i",{class:"ki-duotone ki-cross fs-1"},[s("span",{class:"path1"}),s("span",{class:"path2"})],-1)]))]),s("div",Pt,[s("div",Tt,[s("div",Ft,[s("div",{class:f(["symbol-label fs-1 fw-bold",B(i.value.Name)])},l(L(i.value.Name)),3)]),s("div",Mt,[s("h2",Vt,l(i.value.Name),1),s("span",jt,l(i.value.ContactPerson||"N/A"),1)])]),s("div",Gt,[s("span",{class:f(["badge badge-lg fs-7",{"badge-light-success":i.value.Status==="Active","badge-light-danger":i.value.Status==="Inactive","badge-light-warning":i.value.Status==="Pending"}])},[s("i",{class:f(["ki-duotone ki-abstract-39 fs-5 me-1",{"text-success":i.value.Status==="Active","text-danger":i.value.Status==="Inactive","text-warning":i.value.Status==="Pending"}])},t[44]||(t[44]=[s("span",{class:"path1"},null,-1),s("span",{class:"path2"},null,-1)]),2),M(" "+l(i.value.Status),1)],2),s("span",{class:f(["badge badge-lg fs-7",i.value.IsGlobal==="1"?"badge-light-info":"badge-light-primary"])},[s("i",{class:f(["ki-duotone ki-delivery fs-5 me-1",i.value.IsGlobal==="1"?"text-info":"text-primary"])},t[45]||(t[45]=[_('<span class="path1" data-v-0184cdc4></span><span class="path2" data-v-0184cdc4></span><span class="path3" data-v-0184cdc4></span><span class="path4" data-v-0184cdc4></span><span class="path5" data-v-0184cdc4></span>',5)]),2),M(" "+l(i.value.IsGlobal==="1"?"Global Supplier":"Local Supplier"),1)],2)]),t[51]||(t[51]=s("div",{class:"separator separator-dashed mb-7"},null,-1)),s("div",Lt,[s("div",Bt,[t[46]||(t[46]=s("div",{class:"fw-semibold text-gray-500 fs-7"},"Phone Number:",-1)),s("div",Xt,l(i.value.Phone),1)]),s("div",Ot,[t[47]||(t[47]=s("div",{class:"fw-semibold text-gray-500 fs-7"},"Email Address:",-1)),s("div",Ut,l(i.value.Email||"N/A"),1)])]),s("div",Jt,[s("div",zt,[t[48]||(t[48]=s("div",{class:"fw-semibold text-gray-500 fs-7"},"Address:",-1)),s("div",Qt,l(i.value.Address||"N/A"),1)]),s("div",$t,[t[49]||(t[49]=s("div",{class:"fw-semibold text-gray-500 fs-7"},"Tax ID:",-1)),s("div",qt,l(i.value.TaxIdentificationNumber||"N/A"),1)])]),t[52]||(t[52]=s("div",{class:"separator separator-dashed mb-7"},null,-1)),s("div",Wt,[t[50]||(t[50]=s("div",{class:"fw-semibold text-gray-500 fs-7"},"Date Registered:",-1)),s("div",Zt,l(W(i.value.CreatedAt)),1)])]),s("div",{class:"modal-footer flex-center border-0 pt-0 pb-7 px-7"},[s("button",{onClick:T,type:"button",class:"btn btn-primary w-100"}," Done ")])])):k("",!0)])])):k("",!0)]))}},se=ss(Kt,[["__scopeId","data-v-0184cdc4"]]);export{se as default};
