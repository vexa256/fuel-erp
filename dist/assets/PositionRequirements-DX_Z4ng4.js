import{_ as rt,r as h,c as _,o as ut,b as l,d as t,e as y,f as w,x as pt,t as o,w as x,m as M,F as q,h as I,v as H,p as vt,g as p,n as $,k as ht,S as C,i as n,j as K}from"./index-BJk99QVQ.js";const mt={class:"d-flex flex-column gap-5"},ft={class:"card card-flush bg-gradient-primary"},bt={class:"card-body py-8"},yt={class:"d-flex align-items-center justify-content-between"},gt={class:"modal-dialog modal-fullscreen-sm-down modal-lg modal-dialog-centered modal-dialog-scrollable"},wt={class:"modal-content"},xt={class:"modal-header bg-gradient-primary"},kt={class:"d-flex align-items-center gap-3"},_t={class:"text-white fw-bold fs-2 mb-0"},Ct={class:"text-white text-opacity-75 mb-0 fs-6"},Tt={class:"modal-body p-0"},qt={class:"container-fluid py-5"},It={class:"row g-5"},Rt={class:"col-12 col-md-6"},Mt=["value"],Pt={class:"col-12 col-md-6"},At=["value"],Dt={class:"col-12"},St={class:"col-12"},Et={class:"col-12"},Bt={class:"form-check form-switch form-check-custom form-check-solid"},Ft={class:"modal-footer bg-light"},$t={class:"d-flex gap-3 w-100"},Nt=["disabled"],Vt={key:0,class:"spinner-border spinner-border-sm me-2"},jt={key:1,class:"row g-3 mb-5"},Ot={class:"col-6 col-md-3"},Ut={class:"card card-flush bg-light-primary"},Jt={class:"card-body py-4"},Lt={class:"d-flex align-items-center"},zt={class:"text-primary fw-bold fs-4"},Qt={class:"col-6 col-md-3"},Wt={class:"card card-flush bg-light-success"},Ht={class:"card-body py-4"},Kt={class:"d-flex align-items-center"},Zt={class:"text-success fw-bold fs-4"},Gt={class:"col-6 col-md-3"},Xt={class:"card card-flush bg-light-warning"},Yt={class:"card-body py-4"},ts={class:"d-flex align-items-center"},ss={class:"text-warning fw-bold fs-4"},es={class:"col-6 col-md-3"},as={class:"card card-flush bg-light-info"},os={class:"card-body py-4"},ls={class:"d-flex align-items-center"},ns={class:"text-info fw-bold fs-4"},is={key:2,class:"card card-flush mb-5"},cs={class:"card-header border-0 pt-6"},ds={class:"card-toolbar"},rs={key:3,class:"row g-5 mb-5"},us={class:"col-12 col-lg-8"},ps={class:"card card-flush h-100"},vs={class:"card-body"},hs={class:"mixed-widget-10-chart",style:{height:"300px",position:"relative"}},ms={class:"d-flex flex-wrap gap-2 mt-3"},fs={class:"fw-semibold text-gray-600 fs-8"},bs={class:"col-12 col-lg-4"},ys={class:"card card-flush h-100"},gs={class:"card-body d-flex flex-column justify-content-center"},ws={class:"mixed-widget-14-chart",style:{height:"180px",position:"relative"}},xs={class:"text-center mt-3"},ks={class:"d-flex justify-content-between"},_s={class:"d-flex align-items-center"},Cs={class:"fw-semibold text-gray-600 fs-8"},Ts={class:"d-flex align-items-center"},qs={class:"fw-semibold text-gray-600 fs-8"},Is={class:"col-12"},Rs={class:"card card-flush"},Ms={class:"card-body"},Ps={class:"mixed-widget-5-chart",style:{height:"250px",position:"relative"}},As={key:4,class:"card card-flush mb-5"},Ds={class:"card-header border-0 py-4"},Ss={class:"card-toolbar"},Es={key:0,class:"card-body pt-0"},Bs={class:"row g-3"},Fs={class:"col-6 col-md-3"},$s=["value"],Ns={class:"col-6 col-md-3"},Vs=["value"],js={class:"col-6 col-md-3"},Os={key:5,class:"card card-flush"},Us={class:"card-header border-0"},Js={class:"card-title fw-bold"},Ls={class:"badge badge-light-primary ms-2"},zs={class:"card-body"},Qs={key:0,class:"d-flex justify-content-center py-10"},Ws={key:1,class:"text-center py-10"},Hs={key:2,class:"table-responsive"},Ks={class:"table align-middle table-row-dashed fs-6"},Zs={class:"d-flex align-items-center"},Gs={class:"fw-bold"},Xs={class:"text-muted fs-7"},Ys={class:"badge badge-light-info"},te={class:"fw-semibold"},se={key:0,class:"text-muted fs-7 text-truncate",style:{"max-width":"300px"}},ee={class:"d-flex align-items-center"},ae={class:"progress h-6px w-60px me-2"},oe={class:"fw-bold fs-7"},le={class:"text-muted"},ne={class:"text-end"},ie={class:"d-flex justify-content-end gap-2"},ce=["onClick"],de=["onClick"],P="https://backend.cloudfuelstationmis.com/api/records/v1",re={__name:"PositionRequirements",setup(ue){const r=h([]),A=h([]),m=h(!1),f=h(!1),v=h(null),c=h({positionId:"",requirementType:"",isMandatory:""}),d=h({PositionID:"",RequirementType:"",RequirementName:"",Description:"",IsMandatory:"1"}),N=h(null),V=h(null),j=h(null),D=localStorage.getItem("jwt")||"eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiJkMDc1QVZVSVNCcW9HN3dvZFV0MVZ3PT0iLCJpYXQiOjE3NTAyNDc4ODgsImV4cCI6MTc1MDI1MTQ4OCwiZW1haWwiOiJhZG1pbkBsb2NhbGhvc3QiLCJjc3JmX3Rva2VuIjoiOWdWQmpzU0MzN1NBTmVhU3pCelQifQ.i-Lj_KsB-TXZ1vgsu4CPEdICamdOznhKDh42Jx7oi4F29K5voeBER5bBycrnQ0uK7-G45F-18SibATxo_F3rBQ",U=["Education","Experience","Certification","Skill","License","Training","Language","Physical","Security Clearance","Technical"],S=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"],J=_({get:()=>d.value.IsMandatory==="1",set:e=>d.value.IsMandatory=e?"1":"0"}),L=_(()=>r.value.filter(e=>e.IsMandatory==="1").length),z=_(()=>r.value.filter(e=>e.IsMandatory==="0").length),Z=_(()=>new Set(r.value.map(e=>e.RequirementType)).size),E=_(()=>{const e=r.value.length;return e>0?Math.round(L.value/e*100):0}),G=_(()=>{const e=r.value.length;return e>0?Math.round(z.value/e*100):0}),O=_(()=>{const e={};return r.value.forEach(s=>{e[s.RequirementType]=(e[s.RequirementType]||0)+1}),Object.entries(e).map(([s,a])=>({type:s,count:a}))}),k=async()=>{m.value=!0;try{let e=`${P}/PositionRequirements`;const s=new URLSearchParams;c.value.positionId&&s.append("PositionID",c.value.positionId),c.value.requirementType&&s.append("RequirementType",c.value.requirementType),c.value.isMandatory&&s.append("IsMandatory",c.value.isMandatory),s.toString()&&(e+=`?${s.toString()}`);const a=await fetch(e,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to fetch requirements: ${a.status}`);const i=await a.json();r.value=i.records||[],await ht(),lt()}catch(e){console.error("Error fetching requirements:",e),C.fire({title:"Error!",text:"Failed to load position requirements",icon:"error",confirmButtonColor:"#f1416c"})}finally{m.value=!1}},X=async()=>{try{const e=await fetch(`${P}/Positions`,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch positions");const s=await e.json();A.value=s.records||[]}catch(e){console.error("Error fetching positions:",e)}},Y=async()=>{m.value=!0;try{const e=v.value?"PATCH":"POST",s=v.value?`${P}/PositionRequirements/${v.value.RequirementID}`:`${P}/PositionRequirements`;if(!(await fetch(s,{method:e,headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify(d.value)})).ok)throw new Error(`Failed to ${v.value?"update":"create"} requirement`);C.fire({title:"Success!",text:`Requirement ${v.value?"updated":"created"} successfully`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1}),B(),k()}catch(e){console.error("Error saving requirement:",e),C.fire({title:"Error!",text:e.message,icon:"error",confirmButtonColor:"#f1416c"})}finally{m.value=!1}},tt=e=>{v.value=e,d.value={PositionID:e.PositionID,RequirementType:e.RequirementType,RequirementName:e.RequirementName,Description:e.Description||"",IsMandatory:e.IsMandatory},f.value=!0},st=async e=>{if((await C.fire({title:"Delete Requirement?",text:`This will permanently remove "${e.RequirementName}" requirement`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#f1416c",cancelButtonColor:"#6c757d",confirmButtonText:"Yes, delete it!"})).isConfirmed){m.value=!0;try{if(!(await fetch(`${P}/PositionRequirements/${e.RequirementID}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete requirement");C.fire({title:"Deleted!",text:"Requirement has been deleted successfully",icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1}),k()}catch(a){console.error("Error deleting requirement:",a),C.fire({title:"Error!",text:"Failed to delete requirement",icon:"error",confirmButtonColor:"#f1416c"})}finally{m.value=!1}}},B=()=>{d.value={PositionID:"",RequirementType:"",RequirementName:"",Description:"",IsMandatory:"1"},v.value=null,f.value=!1},et=()=>{c.value={positionId:"",requirementType:"",isMandatory:""},k()},at=e=>{const s=A.value.find(a=>a.PositionID===e);return s?s.PositionTitle:"Unknown Position"},ot=e=>new Date(e).toLocaleDateString(),Q=e=>{let s=75;return e.IsMandatory==="1"&&(s+=15),e.Description&&e.Description.length>50&&(s+=10),Math.min(Math.max(s+Math.floor(Math.random()*10)-5,50),100)},W=()=>{var e;C.fire({title:"AI Insights Generated!",html:`
      <div class="text-start">
        <p><strong>Key Findings:</strong></p>
        <ul>
          <li>Most positions require Education qualifications (${((e=O.value.find(s=>s.type==="Education"))==null?void 0:e.count)||0} requirements)</li>
          <li>${E.value}% of requirements are mandatory</li>
          <li>Positions with highest requirements: Station Manager, Maintenance Tech</li>
          <li>Recommended: Add more certification requirements for technical roles</li>
        </ul>
      </div>
    `,icon:"info",confirmButtonText:"Got it!",confirmButtonColor:"#009ef7"})},lt=()=>{N.value&&nt(),V.value&&it(),j.value&&ct()},nt=()=>{const e=N.value.getContext("2d"),s=O.value;if(s.length===0)return;e.clearRect(0,0,e.canvas.width,e.canvas.height);const a=Math.max(...s.map(u=>u.count)),i=e.canvas.width/s.length*.8,b=e.canvas.width/s.length*.2;s.forEach((u,g)=>{const F=u.count/a*(e.canvas.height-60),T=g*(i+b)+b/2,R=e.canvas.height-F-30;e.fillStyle=S[g%S.length],e.fillRect(T,R,i,F),e.fillStyle="#333",e.font="12px Arial",e.textAlign="center",e.fillText(u.count,T+i/2,R-5),e.save(),e.translate(T+i/2,e.canvas.height-10),e.rotate(-Math.PI/4),e.textAlign="right",e.fillText(u.type,0,0),e.restore()})},it=()=>{const e=V.value.getContext("2d"),s=e.canvas.width/2,a=e.canvas.height/2,i=Math.min(s,a)-20,b=E.value/100*2*Math.PI;e.beginPath(),e.moveTo(s,a),e.arc(s,a,i,0,b),e.closePath(),e.fillStyle="#10B981",e.fill(),e.beginPath(),e.moveTo(s,a),e.arc(s,a,i,b,2*Math.PI),e.closePath(),e.fillStyle="#F59E0B",e.fill(),e.beginPath(),e.arc(s,a,i*.6,0,2*Math.PI),e.fillStyle="#fff",e.fill(),e.fillStyle="#333",e.font="bold 16px Arial",e.textAlign="center",e.fillText(`${E.value}%`,s,a-5),e.font="12px Arial",e.fillText("Mandatory",s,a+15)},ct=()=>{const e=j.value.getContext("2d"),s=["Manager","Supervisor","Attendant","Cashier","Tech"],a=["Education","Experience","Certification","Skill"],i=e.canvas.width/a.length,b=e.canvas.height/s.length;for(let u=0;u<s.length;u++)for(let g=0;g<a.length;g++){const F=Math.random(),T=g*i,R=u*b,dt=F*120;e.fillStyle=`hsl(${dt}, 70%, 60%)`,e.fillRect(T,R,i-2,b-2),e.fillStyle="#333",e.font="12px Arial",e.textAlign="center",u===0&&e.fillText(a[g],T+i/2,15),g===0&&(e.save(),e.translate(15,R+b/2),e.rotate(-Math.PI/2),e.fillText(s[u],0,0),e.restore())}};return ut(()=>{k(),X()}),(e,s)=>(n(),l("div",mt,[t("div",ft,[t("div",bt,[t("div",yt,[s[12]||(s[12]=t("div",null,[t("h1",{class:"text-white fw-bold fs-2x mb-2"},"Position Requirements"),t("p",{class:"text-white text-opacity-75 mb-0"}," Manage position requirements and qualifications with AI-powered analytics ")],-1)),t("button",{onClick:s[0]||(s[0]=a=>f.value=!0),class:"btn btn-light btn-lg"},s[11]||(s[11]=[t("i",{class:"ki-duotone ki-plus fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),w(" Add Requirement ")]))])])]),f.value?(n(),l("div",{key:0,class:"modal fade show d-block",style:{background:"rgba(0, 0, 0, 0.5)"},onClick:pt(B,["self"])},[t("div",gt,[t("div",wt,[t("div",xt,[t("div",kt,[t("button",{onClick:B,class:"btn btn-icon btn-light btn-sm"},s[13]||(s[13]=[t("i",{class:"ki-duotone ki-cross fs-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)])),t("div",null,[t("h1",_t,o(v.value?"Edit Requirement":"New Requirement"),1),t("p",Ct,o(v.value?"Update position requirement details":"Add new position requirement"),1)])])]),t("div",Tt,[t("div",qt,[t("div",It,[t("div",Rt,[s[15]||(s[15]=t("label",{class:"required form-label fw-semibold fs-6"},"Position",-1)),x(t("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>d.value.PositionID=a),class:"form-control form-control-lg",required:""},[s[14]||(s[14]=t("option",{value:""},"Select Position",-1)),(n(!0),l(q,null,I(A.value,a=>(n(),l("option",{key:a.PositionID,value:a.PositionID},o(a.PositionTitle),9,Mt))),128))],512),[[M,d.value.PositionID]])]),t("div",Pt,[s[17]||(s[17]=t("label",{class:"required form-label fw-semibold fs-6"},"Requirement Type",-1)),x(t("select",{"onUpdate:modelValue":s[2]||(s[2]=a=>d.value.RequirementType=a),class:"form-control form-control-lg",required:""},[s[16]||(s[16]=t("option",{value:""},"Select Type",-1)),(n(),l(q,null,I(U,a=>t("option",{key:a,value:a},o(a),9,At)),64))],512),[[M,d.value.RequirementType]])]),t("div",Dt,[s[18]||(s[18]=t("label",{class:"required form-label fw-semibold fs-6"},"Requirement Name",-1)),x(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=a=>d.value.RequirementName=a),class:"form-control form-control-lg",placeholder:"e.g., Bachelor's Degree in Engineering",required:""},null,512),[[H,d.value.RequirementName]])]),t("div",St,[s[19]||(s[19]=t("label",{class:"form-label fw-semibold fs-6"},"Description",-1)),x(t("textarea",{"onUpdate:modelValue":s[4]||(s[4]=a=>d.value.Description=a),class:"form-control form-control-lg",rows:"4",placeholder:"Detailed description of the requirement..."},null,512),[[H,d.value.Description]])]),t("div",Et,[t("div",Bt,[x(t("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=a=>J.value=a),class:"form-check-input",id:"mandatory"},null,512),[[vt,J.value]]),s[20]||(s[20]=t("label",{class:"form-check-label fw-semibold fs-6",for:"mandatory"}," Mandatory Requirement ",-1))])])])])]),t("div",Ft,[t("div",$t,[t("button",{onClick:Y,disabled:m.value,class:"btn btn-primary btn-lg flex-grow-1"},[m.value?(n(),l("span",Vt)):y("",!0),s[21]||(s[21]=t("i",{class:"ki-duotone ki-check fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),w(" "+o(v.value?"Update Requirement":"Create Requirement"),1)],8,Nt),t("button",{onClick:B,class:"btn btn-light-danger btn-lg"},s[22]||(s[22]=[t("i",{class:"ki-duotone ki-cross fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),w(" Cancel ")]))])])])])])):y("",!0),f.value?y("",!0):(n(),l("div",jt,[t("div",Ot,[t("div",Ut,[t("div",Jt,[t("div",Lt,[s[24]||(s[24]=p('<div class="symbol symbol-40px me-3" data-v-e9c3ec18><div class="symbol-label bg-primary" data-v-e9c3ec18><i class="ki-duotone ki-document text-white fs-6" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span></i></div></div>',1)),t("div",null,[t("div",zt,o(r.value.length),1),s[23]||(s[23]=t("div",{class:"text-muted fs-8"},"Total",-1))])])])])]),t("div",Qt,[t("div",Wt,[t("div",Ht,[t("div",Kt,[s[26]||(s[26]=p('<div class="symbol symbol-40px me-3" data-v-e9c3ec18><div class="symbol-label bg-success" data-v-e9c3ec18><i class="ki-duotone ki-check-circle text-white fs-6" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span></i></div></div>',1)),t("div",null,[t("div",Zt,o(L.value),1),s[25]||(s[25]=t("div",{class:"text-muted fs-8"},"Mandatory",-1))])])])])]),t("div",Gt,[t("div",Xt,[t("div",Yt,[t("div",ts,[s[28]||(s[28]=p('<div class="symbol symbol-40px me-3" data-v-e9c3ec18><div class="symbol-label bg-warning" data-v-e9c3ec18><i class="ki-duotone ki-information text-white fs-6" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span></i></div></div>',1)),t("div",null,[t("div",ss,o(z.value),1),s[27]||(s[27]=t("div",{class:"text-muted fs-8"},"Optional",-1))])])])])]),t("div",es,[t("div",as,[t("div",os,[t("div",ls,[s[30]||(s[30]=p('<div class="symbol symbol-40px me-3" data-v-e9c3ec18><div class="symbol-label bg-info" data-v-e9c3ec18><i class="ki-duotone ki-category text-white fs-6" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span></i></div></div>',1)),t("div",null,[t("div",ns,o(Z.value),1),s[29]||(s[29]=t("div",{class:"text-muted fs-8"},"Types",-1))])])])])])])),f.value?y("",!0):(n(),l("div",is,[t("div",cs,[s[32]||(s[32]=t("h3",{class:"card-title align-items-start flex-column"},[t("span",{class:"card-label fw-bold fs-3 mb-1"},"AI Analytics Dashboard"),t("span",{class:"text-muted fs-7"},"Click to expand detailed charts and insights")],-1)),t("div",ds,[t("button",{onClick:s[6]||(s[6]=a=>e.showAnalytics=!e.showAnalytics),class:$(["btn btn-sm",e.showAnalytics?"btn-light-danger":"btn-light-success"])},[t("i",{class:$(["ki-duotone fs-3 me-2",e.showAnalytics?"ki-minus":"ki-chart-line-up"])},s[31]||(s[31]=[t("span",{class:"path1"},null,-1),t("span",{class:"path2"},null,-1),t("span",{class:"path3"},null,-1)]),2),w(" "+o(e.showAnalytics?"Hide Analytics":"Show Analytics"),1)],2)])])])),!f.value&&e.showAnalytics?(n(),l("div",rs,[t("div",us,[t("div",ps,[s[33]||(s[33]=p('<div class="card-header" data-v-e9c3ec18><h3 class="card-title fw-bold" data-v-e9c3ec18><i class="ki-duotone ki-chart-simple text-primary fs-2 me-2" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span></i> AI Requirements Analysis </h3></div>',1)),t("div",vs,[t("div",hs,[t("canvas",{ref_key:"typeChart",ref:N,width:"400",height:"300"},null,512)]),t("div",ms,[(n(!0),l(q,null,I(O.value,(a,i)=>(n(),l("div",{key:a.type,class:"d-flex align-items-center"},[t("div",{class:"bullet bullet-dot me-2",style:K(`background-color: ${S[i%S.length]}`)},null,4),t("span",fs,o(a.type)+": "+o(a.count),1)]))),128))])])])]),t("div",bs,[t("div",ys,[s[36]||(s[36]=p('<div class="card-header" data-v-e9c3ec18><h3 class="card-title fw-bold" data-v-e9c3ec18><i class="ki-duotone ki-graph-up text-success fs-2 me-2" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span><span class="path5" data-v-e9c3ec18></span><span class="path6" data-v-e9c3ec18></span></i> Distribution </h3></div>',1)),t("div",gs,[t("div",ws,[t("canvas",{ref_key:"mandatoryChart",ref:V,width:"200",height:"180"},null,512)]),t("div",xs,[t("div",ks,[t("div",_s,[s[34]||(s[34]=t("div",{class:"bullet bullet-dot bg-success me-2"},null,-1)),t("span",Cs,o(E.value)+"%",1)]),t("div",Ts,[s[35]||(s[35]=t("div",{class:"bullet bullet-dot bg-warning me-2"},null,-1)),t("span",qs,o(G.value)+"%",1)])])])])])]),t("div",Is,[t("div",Rs,[t("div",{class:"card-header"},[s[38]||(s[38]=p('<h3 class="card-title fw-bold" data-v-e9c3ec18><i class="ki-duotone ki-element-11 text-info fs-2 me-2" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span></i> AI-Powered Position Requirements Heatmap </h3>',1)),t("div",{class:"card-toolbar"},[t("button",{onClick:W,class:"btn btn-sm btn-light-success"},s[37]||(s[37]=[t("i",{class:"ki-duotone ki-abstract-26 fs-3 me-1"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),w(" AI Insights ")]))])]),t("div",Ms,[t("div",Ps,[t("canvas",{ref_key:"heatmapChart",ref:j,width:"800",height:"250"},null,512)])])])])])):y("",!0),f.value?y("",!0):(n(),l("div",As,[t("div",Ds,[s[40]||(s[40]=t("h3",{class:"card-title fs-5 fw-bold"},[t("i",{class:"ki-duotone ki-filter text-primary fs-3 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})]),w(" Filters ")],-1)),t("div",Ss,[t("button",{onClick:s[7]||(s[7]=a=>e.showFilters=!e.showFilters),class:"btn btn-sm btn-light-primary"},[t("i",{class:$(["ki-duotone fs-3",e.showFilters?"ki-minus":"ki-plus"])},s[39]||(s[39]=[t("span",{class:"path1"},null,-1),t("span",{class:"path2"},null,-1)]),2)])])]),e.showFilters?(n(),l("div",Es,[t("div",Bs,[t("div",Fs,[s[42]||(s[42]=t("label",{class:"form-label fw-semibold fs-7"},"Position",-1)),x(t("select",{"onUpdate:modelValue":s[8]||(s[8]=a=>c.value.positionId=a),onChange:k,class:"form-control form-control-sm"},[s[41]||(s[41]=t("option",{value:""},"All Positions",-1)),(n(!0),l(q,null,I(A.value,a=>(n(),l("option",{key:a.PositionID,value:a.PositionID},o(a.PositionTitle),9,$s))),128))],544),[[M,c.value.positionId]])]),t("div",Ns,[s[44]||(s[44]=t("label",{class:"form-label fw-semibold fs-7"},"Type",-1)),x(t("select",{"onUpdate:modelValue":s[9]||(s[9]=a=>c.value.requirementType=a),onChange:k,class:"form-control form-control-sm"},[s[43]||(s[43]=t("option",{value:""},"All Types",-1)),(n(),l(q,null,I(U,a=>t("option",{key:a,value:a},o(a),9,Vs)),64))],544),[[M,c.value.requirementType]])]),t("div",js,[s[46]||(s[46]=t("label",{class:"form-label fw-semibold fs-7"},"Status",-1)),x(t("select",{"onUpdate:modelValue":s[10]||(s[10]=a=>c.value.isMandatory=a),onChange:k,class:"form-control form-control-sm"},s[45]||(s[45]=[t("option",{value:""},"All",-1),t("option",{value:"1"},"Mandatory",-1),t("option",{value:"0"},"Optional",-1)]),544),[[M,c.value.isMandatory]])]),t("div",{class:"col-6 col-md-3"},[s[48]||(s[48]=t("label",{class:"form-label fw-semibold fs-7"},"Â ",-1)),t("button",{onClick:et,class:"btn btn-light-danger btn-sm w-100"},s[47]||(s[47]=[p('<i class="ki-duotone ki-eraser fs-4 me-1" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span></i> Clear ',2)]))])])])):y("",!0)])),f.value?y("",!0):(n(),l("div",Os,[t("div",Us,[t("h3",Js,[s[49]||(s[49]=t("i",{class:"ki-duotone ki-row-horizontal text-primary fs-2 me-2"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)),s[50]||(s[50]=w(" Requirements List ")),t("span",Ls,o(r.value.length),1)]),t("div",{class:"card-toolbar"},[t("button",{onClick:W,class:"btn btn-sm btn-light-success"},s[51]||(s[51]=[t("i",{class:"ki-duotone ki-ai fs-2 me-1"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1),w(" AI Insights ")]))])]),t("div",zs,[m.value?(n(),l("div",Qs,s[52]||(s[52]=[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):r.value.length===0?(n(),l("div",Ws,s[53]||(s[53]=[p('<i class="ki-duotone ki-file-deleted fs-3x text-muted mb-5" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span></i><h3 class="text-muted" data-v-e9c3ec18>No Requirements Found</h3><p class="text-muted" data-v-e9c3ec18>Click &quot;Add Requirement&quot; to create the first one</p>',3)]))):(n(),l("div",Hs,[t("table",Ks,[s[57]||(s[57]=t("thead",null,[t("tr",{class:"text-start text-gray-500 fw-bold fs-7 text-uppercase"},[t("th",null,"Position"),t("th",null,"Type"),t("th",null,"Requirement"),t("th",null,"Status"),t("th",null,"AI Score"),t("th",null,"Created"),t("th",{class:"text-end"},"Actions")])],-1)),t("tbody",null,[(n(!0),l(q,null,I(r.value,a=>(n(),l("tr",{key:a.RequirementID},[t("td",null,[t("div",Zs,[s[54]||(s[54]=p('<div class="symbol symbol-35px me-3" data-v-e9c3ec18><div class="symbol-label bg-light-primary" data-v-e9c3ec18><i class="ki-duotone ki-profile-user text-primary fs-6" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span></i></div></div>',1)),t("div",null,[t("div",Gs,o(at(a.PositionID)),1),t("div",Xs,"ID: "+o(a.PositionID),1)])])]),t("td",null,[t("span",Ys,o(a.RequirementType),1)]),t("td",null,[t("div",null,[t("div",te,o(a.RequirementName),1),a.Description?(n(),l("div",se,o(a.Description),1)):y("",!0)])]),t("td",null,[t("span",{class:$(`badge ${a.IsMandatory==="1"?"badge-light-success":"badge-light-warning"}`)},o(a.IsMandatory==="1"?"Mandatory":"Optional"),3)]),t("td",null,[t("div",ee,[t("div",ae,[t("div",{class:"progress-bar bg-success",style:K(`width: ${Q(a)}%`)},null,4)]),t("span",oe,o(Q(a))+"%",1)])]),t("td",null,[t("div",le,o(ot(a.CreatedAt)),1)]),t("td",ne,[t("div",ie,[t("button",{onClick:i=>tt(a),class:"btn btn-sm btn-light-primary"},s[55]||(s[55]=[t("i",{class:"ki-duotone ki-pencil fs-5"},[t("span",{class:"path1"}),t("span",{class:"path2"})],-1)]),8,ce),t("button",{onClick:i=>st(a),class:"btn btn-sm btn-light-danger"},s[56]||(s[56]=[p('<i class="ki-duotone ki-trash fs-5" data-v-e9c3ec18><span class="path1" data-v-e9c3ec18></span><span class="path2" data-v-e9c3ec18></span><span class="path3" data-v-e9c3ec18></span><span class="path4" data-v-e9c3ec18></span><span class="path5" data-v-e9c3ec18></span></i>',1)]),8,de)])])]))),128))])])]))])]))]))}},ve=rt(re,[["__scopeId","data-v-e9c3ec18"]]);export{ve as default};
