import{_ as Ee,r as p,S as K,c as m,s as Ae,o as Be,l as Ue,b as c,d as e,f as U,g as y,t as n,w as k,m as P,e as x,v as H,F as V,h as j,n as g,x as Q,k as Ve,i as u,j as je}from"./index-BJk99QVQ.js";import{a as $e}from"./index-Dq7h7Pqt.js";const Oe={class:"d-flex flex-column gap-5"},Re={class:"row g-5 g-xl-8"},qe={class:"col-6 col-lg-3"},Ge={class:"card bg-light-primary card-xl-stretch mb-xl-8"},We={class:"card-body p-5"},Ye={class:"d-flex align-items-center"},Ke={class:"d-flex flex-column"},He={class:"fs-2hx fw-bold text-dark","data-kt-countup":"true","data-kt-countup-value":"14"},Qe={class:"col-6 col-lg-3"},Je={class:"card bg-light-success card-xl-stretch mb-xl-8"},Xe={class:"card-body p-5"},Ze={class:"d-flex align-items-center"},et={class:"d-flex flex-column"},tt={class:"fs-2hx fw-bold text-dark"},at={class:"col-6 col-lg-3"},st={class:"card bg-light-info card-xl-stretch mb-xl-8"},lt={class:"card-body p-5"},ot={class:"d-flex align-items-center"},nt={class:"d-flex flex-column"},it={class:"fs-2hx fw-bold text-dark"},rt={class:"col-6 col-lg-3"},dt={class:"card bg-light-warning card-xl-stretch mb-xl-8"},ct={class:"card-body p-5"},ut={class:"d-flex align-items-center"},vt={class:"d-flex flex-column"},ft={class:"fs-2hx fw-bold text-dark"},pt={class:"row g-5 g-xl-8"},mt={class:"col-xl-8 col-lg-7 col-12"},bt={class:"card card-flush h-xl-100"},ht={class:"card-header py-7"},gt={class:"card-title align-items-start flex-column"},yt={class:"text-gray-400 mt-1 fw-semibold fs-6"},xt={class:"card-toolbar"},wt={class:"card-body pt-3"},kt={key:0,class:"d-flex justify-content-center my-10"},_t={class:"col-xl-4 col-lg-5 col-12"},Ct={class:"card card-flush h-xl-100"},St={class:"card-body pt-3"},It={class:"d-flex flex-column mt-8"},Tt={class:"d-flex align-items-center mb-5"},Dt={class:"badge badge-danger fs-6 fw-bold"},Lt={class:"d-flex align-items-center mb-5"},Pt={class:"badge badge-warning fs-6 fw-bold"},Ft={class:"d-flex align-items-center mb-5"},zt={class:"badge badge-info fs-6 fw-bold"},Mt={class:"d-flex align-items-center"},Nt={class:"badge badge-success fs-6 fw-bold"},Et={class:"row g-5 g-xl-8"},At={class:"col-xl-6 col-12"},Bt={class:"card card-flush h-xl-100"},Ut={class:"card-header py-7"},Vt={class:"card-title align-items-start flex-column"},jt={class:"text-gray-400 mt-1 fw-semibold fs-6"},$t={class:"card card-flush"},Ot={class:"card-header align-items-center py-5 gap-2 gap-md-5 border-0"},Rt={class:"card-title"},qt={class:"d-flex align-items-center position-relative my-1"},Gt={class:"card-toolbar flex-row-fluid justify-content-end gap-3"},Wt=["value"],Yt={class:"card-body pt-0"},Kt={class:"row g-5"},Ht={key:0,class:"col-12"},Qt={key:1,class:"col-12"},Jt={class:"card-header ribbon ribbon-end"},Xt={class:"card-title"},Zt={class:"d-flex align-items-center"},ea={class:"symbol symbol-40px me-3"},ta={class:"d-flex flex-column"},aa={class:"fs-4 fw-bold text-dark text-hover-primary"},sa={class:"text-muted fw-semibold"},la={class:"card-body py-5"},oa={class:"d-flex flex-column gap-5"},na={class:"d-flex align-items-center"},ia={class:"d-flex flex-column flex-grow-1"},ra={class:"d-flex align-items-center"},da={class:"fw-bold fs-6 text-gray-800"},ca={class:"d-flex flex-column min-w-125px"},ua={class:"fw-bold fs-6 text-gray-800 text-end"},va={class:"d-flex justify-content-between align-items-center mb-2"},fa={class:"text-muted fs-7 fw-semibold"},pa={class:"h-8px mx-3 w-100 bg-light rounded"},ma=["aria-valuenow"],ba={class:"d-flex justify-content-between"},ha={class:"d-flex flex-column"},ga={class:"fw-bold fs-6 text-gray-800"},ya={class:"d-flex flex-column"},xa={class:"fw-bold fs-6 text-gray-800 text-end"},wa={class:"card-footer d-flex justify-content-end"},ka=["onClick"],_a=["onClick"],Ca={key:0,class:"d-flex flex-stack flex-wrap pt-10"},Sa={class:"fs-6 fw-semibold text-gray-700"},Ia={class:"pagination"},Ta=["onClick"],Da={class:"modal-dialog modal-dialog-centered mw-650px"},La={class:"modal-content"},Pa={class:"modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15"},Fa={class:"text-center mb-13"},za={class:"mb-3"},Ma={class:"text-muted fw-semibold fs-5"},Na={class:"d-flex flex-column mb-8"},Ea={key:0,class:"invalid-feedback d-block"},Aa={class:"row g-8 mb-8"},Ba={class:"col-md-6"},Ua=["value"],Va={key:0,class:"invalid-feedback d-block"},ja={class:"col-md-6"},$a=["value"],Oa={key:0,class:"invalid-feedback d-block"},Ra={class:"row g-8 mb-8"},qa={class:"col-md-6"},Ga={key:0,class:"invalid-feedback d-block"},Wa={class:"col-md-6"},Ya={key:0,class:"invalid-feedback d-block"},Ka={class:"d-flex flex-column mb-8"},Ha={key:0,class:"invalid-feedback d-block"},Qa={class:"d-flex flex-center flex-row-fluid pt-5"},Ja=["disabled"],Xa={key:0,class:"indicator-label"},Za={key:1,class:"indicator-progress"},es={__name:"MgtTanks",setup(ts){const f=p([]),$=p([]),F=p([]),z=p(!1),M=p(!1),O=p(""),R=p(""),q=p(""),N=p("station"),w=p(1),J=p(9),S=p(!1),E=p(null),_=p(null),v=p({}),b=p({}),le={TankName:"",StationID:"",ProductID:"",Capacity:"",CurrentLevel:"",Status:"Active",LastFilledDate:new Date().toISOString().split("T")[0]},r=p({...le}),D=$e.create({baseURL:"https://backend.cloudfuelstationmis.com/api/records/v1",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("jwt")}`},timeout:1e4});D.interceptors.response.use(a=>a,a=>{var s,i;console.error("API Error:",a);const t=((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||a.message||"An unexpected error occurred";return K.fire({title:"Error!",text:t,icon:"error",confirmButtonColor:"#f1416c"}),Promise.reject(a)});const G=m(()=>{let a=f.value;if(O.value){const t=O.value.toLowerCase();a=a.filter(s=>s.TankName.toLowerCase().includes(t)||W(s.StationID).toLowerCase().includes(t)||Y(s.ProductID).toLowerCase().includes(t))}return R.value&&(a=a.filter(t=>t.StationID==R.value)),q.value&&(a=a.filter(t=>t.Status===q.value)),a}),A=m(()=>Math.ceil(G.value.length/J.value)),X=m(()=>(w.value-1)*J.value),oe=m(()=>X.value+J.value),Z=m(()=>G.value.slice(X.value,oe.value)),ue=m(()=>{const a=[];if(A.value<=5)for(let s=1;s<=A.value;s++)a.push(s);else{let s=Math.max(1,w.value-Math.floor(2.5)),i=Math.min(A.value,s+5-1);i-s+1<5&&(s=Math.max(1,i-5+1));for(let C=s;C<=i;C++)a.push(C)}return a}),ne=m(()=>f.value.length),ee=m(()=>f.value.reduce((a,t)=>a+(parseInt(t.Capacity)||0),0)),ie=m(()=>f.value.reduce((a,t)=>a+(parseInt(t.CurrentLevel)||0),0)),ve=m(()=>ee.value?Math.round(ie.value/ee.value*100):0),fe=m(()=>f.value.filter(a=>a.Status==="Active").length),pe=m(()=>new Set(f.value.map(t=>t.StationID)).size),me=m(()=>{const a=new Set(f.value.map(t=>t.StationID));return $.value.filter(t=>a.has(t.StationID))}),be=m(()=>new Set(f.value.map(t=>t.ProductID)).size),he=m(()=>F.value.filter(a=>a.ProductType==="Fuel")),B=m(()=>{const a={critical:0,low:0,good:0,full:0};return f.value.forEach(t=>{const s=I(t);s<20?a.critical++:s<50?a.low++:s<80?a.good++:a.full++}),a}),te=a=>new Intl.NumberFormat().format(a||0),re=a=>a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:te(a),de=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},W=a=>{var t;return((t=$.value.find(s=>s.StationID==a))==null?void 0:t.StationName)||"Unknown"},Y=a=>{var t;return((t=F.value.find(s=>s.ProductID==a))==null?void 0:t.Name)||"Unknown"},I=a=>a.Capacity?Math.round(a.CurrentLevel/a.Capacity*100):0,ge=a=>{switch(a){case"Active":return"ribbon-success";case"Inactive":return"ribbon-danger";case"Maintenance":return"ribbon-warning";default:return"ribbon-primary"}},ye=a=>{const t=I(a);return t<20?"bg-danger":t<50?"bg-warning":t<80?"bg-info":"bg-success"},xe=a=>{const t=I(a);return t<20?"text-danger":t<50?"text-warning":t<80?"text-info":"text-success"},we=a=>{const t=F.value.find(i=>i.ProductID==a);if(!t)return"bg-primary";const s=t.Name.toLowerCase();return s.includes("petrol")||s.includes("premium")?"bg-danger":s.includes("diesel")?"bg-success":s.includes("kerosene")?"bg-info":s.includes("lpg")||s.includes("gas")?"bg-warning":"bg-primary"},ke=a=>{const t=F.value.find(i=>i.ProductID==a);if(!t)return"bg-primary";const s=t.Name.toLowerCase();return s.includes("petrol")||s.includes("premium")?"bg-danger":s.includes("diesel")?"bg-success":s.includes("kerosene")?"bg-info":s.includes("lpg")||s.includes("gas")?"bg-warning":"bg-primary"},ce=async()=>{await Ve(),setTimeout(()=>{Ce(),Se(),Ie(),Te()},100)},T=a=>{b.value[a]&&(b.value[a].destroy(),delete b.value[a])},_e=()=>{Object.keys(b.value).forEach(a=>{b.value[a]&&(b.value[a].destroy(),delete b.value[a])})},Ce=()=>{const a="tank_levels_chart",t=document.getElementById(a);if(!t)return;T(a);let s=[],i=[];if(N.value==="station"){const o={};f.value.forEach(l=>{const d=W(l.StationID);o[d]||(o[d]={capacity:0,current:0}),o[d].capacity+=parseInt(l.Capacity)||0,o[d].current+=parseInt(l.CurrentLevel)||0}),i=Object.keys(o),s=[{name:"Total Capacity",data:i.map(l=>Math.round(o[l].capacity/1e3))},{name:"Current Level",data:i.map(l=>Math.round(o[l].current/1e3))}]}else if(N.value==="product"){const o={};f.value.forEach(l=>{const d=Y(l.ProductID);o[d]||(o[d]={capacity:0,current:0}),o[d].capacity+=parseInt(l.Capacity)||0,o[d].current+=parseInt(l.CurrentLevel)||0}),i=Object.keys(o),s=[{name:"Total Capacity",data:i.map(l=>Math.round(o[l].capacity/1e3))},{name:"Current Level",data:i.map(l=>Math.round(o[l].current/1e3))}]}else{const o={"Critical (0-20%)":{capacity:0,current:0},"Low (20-50%)":{capacity:0,current:0},"Good (50-80%)":{capacity:0,current:0},"Full (80%+)":{capacity:0,current:0}};f.value.forEach(l=>{const d=I(l),h=parseInt(l.Capacity)||0,L=parseInt(l.CurrentLevel)||0;d<20?(o["Critical (0-20%)"].capacity+=h,o["Critical (0-20%)"].current+=L):d<50?(o["Low (20-50%)"].capacity+=h,o["Low (20-50%)"].current+=L):d<80?(o["Good (50-80%)"].capacity+=h,o["Good (50-80%)"].current+=L):(o["Full (80%+)"].capacity+=h,o["Full (80%+)"].current+=L)}),i=Object.keys(o).filter(l=>o[l].capacity>0),s=[{name:"Total Capacity",data:i.map(l=>Math.round(o[l].capacity/1e3))},{name:"Current Level",data:i.map(l=>Math.round(o[l].current/1e3))}]}const C={series:s,chart:{type:"bar",height:350,stacked:!1,toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},fontFamily:"inherit"},plotOptions:{bar:{horizontal:!1,columnWidth:"60%",borderRadius:5}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:i,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#a1a5b7",fontSize:"12px"},rotate:-45,rotateAlways:!1}},yaxis:{title:{text:"Volume (K Liters)",style:{color:"#a1a5b7",fontSize:"12px"}},labels:{style:{colors:"#a1a5b7",fontSize:"12px"}}},fill:{opacity:1},states:{normal:{filter:{type:"none"}},hover:{filter:{type:"none"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none"}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(o){return o+" K Liters"}}},colors:["#E4E6EF","#009EF7"],grid:{borderColor:"#EBEDF3",strokeDashArray:4,yaxis:{lines:{show:!0}}},legend:{position:"top",horizontalAlign:"right",offsetY:-30,fontSize:"13px",fontWeight:500,markers:{width:10,height:10,radius:100},itemMargin:{horizontal:10}},responsive:[{breakpoint:1024,options:{chart:{height:300},plotOptions:{bar:{columnWidth:"65%"}},legend:{position:"bottom",horizontalAlign:"center",offsetY:0}}},{breakpoint:480,options:{chart:{height:250},plotOptions:{bar:{columnWidth:"75%"}},legend:{position:"bottom",horizontalAlign:"center",offsetY:0},xaxis:{labels:{rotate:-90}}}}]};try{b.value[a]=new ApexCharts(t,C),b.value[a].render()}catch(o){console.error(`Error rendering chart ${a}:`,o),T(a)}},Se=()=>{const a="tank_categories_chart",t=document.getElementById(a);if(!t)return;T(a);const s=B.value,i=[s.critical,s.low,s.good,s.full],C=["Critical","Low","Good","Full"],o=i.reduce((h,L)=>h+L,0)||1,d={series:i.map(h=>Math.round(h/o*100)),chart:{width:"100%",type:"donut",fontFamily:"inherit"},labels:C,colors:["#F1416C","#FFC700","#7239EA","#50CD89"],stroke:{width:0},plotOptions:{pie:{donut:{size:"65%",background:"transparent",labels:{show:!0,name:{show:!0,fontSize:"12px",fontWeight:600,offsetY:-10},value:{show:!0,fontSize:"22px",fontWeight:700,offsetY:5,formatter:function(h){return h+"%"}},total:{show:!0,label:"Total",color:"#9CA3AF",fontSize:"13px",fontWeight:700,formatter:function(){return ne.value}}}}}},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{height:180}}}],legend:{show:!1}};try{b.value[a]=new ApexCharts(t,d),b.value[a].render()}catch(h){console.error(`Error rendering chart ${a}:`,h),T(a)}},Ie=()=>{const a="product_distribution_chart",t=document.getElementById(a);if(!t)return;T(a);const s={};f.value.forEach(l=>{const d=Y(l.ProductID);s[d]=(s[d]||0)+1});const i=Object.keys(s),o={series:Object.values(s),chart:{width:"100%",type:"pie",fontFamily:"inherit"},labels:i,colors:["#009EF7","#50CD89","#FFC700","#F1416C","#7239EA","#3F4254"],stroke:{width:3,colors:["#FFFFFF"]},fill:{opacity:1},states:{normal:{filter:{type:"none"}},hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(l){return l+" tanks"}}},legend:{position:"bottom",fontSize:"13px",fontWeight:500,offsetY:10,markers:{width:10,height:10,radius:100},itemMargin:{horizontal:10,vertical:5}},responsive:[{breakpoint:480,options:{chart:{height:250},legend:{fontSize:"11px",itemMargin:{horizontal:5,vertical:3}}}}]};try{b.value[a]=new ApexCharts(t,o),b.value[a].render()}catch(l){console.error(`Error rendering chart ${a}:`,l),T(a)}},Te=()=>{const a="utilization_heatmap_chart",t=document.getElementById(a);if(!t)return;T(a);const s=[],i={};f.value.forEach(l=>{const d=W(l.StationID);i[d]||(i[d]=[]),i[d].push(l)}),Object.entries(i).sort((l,d)=>d[1].length-l[1].length).slice(0,5).map(l=>l[0]).forEach(l=>{const d=i[l].slice(0,5).map(h=>({x:h.TankName,y:I(h)}));s.push({name:l,data:d})});const o={series:s,chart:{height:300,type:"heatmap",fontFamily:"inherit",toolbar:{show:!1}},dataLabels:{enabled:!0,style:{fontSize:"12px",fontWeight:500},formatter:function(l){return l+"%"}},colors:["#009EF7"],plotOptions:{heatmap:{colorScale:{ranges:[{from:0,to:20,color:"#F1416C",name:"Critical"},{from:21,to:50,color:"#FFC700",name:"Low"},{from:51,to:80,color:"#7239EA",name:"Good"},{from:81,to:100,color:"#50CD89",name:"Full"}]}}},xaxis:{labels:{style:{colors:"#a1a5b7",fontSize:"12px"},rotate:-45,rotateAlways:!1,maxHeight:60}},yaxis:{labels:{style:{colors:"#a1a5b7",fontSize:"12px"}}},grid:{padding:{left:10,right:10},borderColor:"#EBEDF3",strokeDashArray:4},stroke:{width:1,colors:["#FFFFFF"]},tooltip:{y:{formatter:function(l){return l+"% filled"}}},responsive:[{breakpoint:480,options:{chart:{height:250},dataLabels:{enabled:!1}}}]};try{b.value[a]=new ApexCharts(t,o),b.value[a].render()}catch(l){console.error(`Error rendering chart ${a}:`,l),T(a)}},ae=async()=>{z.value=!0;try{const[a,t,s]=await Promise.all([D.get("/Tanks"),D.get("/Stations"),D.get("/Products")]);f.value=a.data.records||[],$.value=t.data.records||[],F.value=s.data.records||[],await ce()}catch{}finally{z.value=!1}},se=()=>{S.value=!1,v.value={},r.value={...le},_.value||(_.value=new bootstrap.Modal(E.value)),_.value.show()},De=a=>{S.value=!0,v.value={},r.value={...a},_.value||(_.value=new bootstrap.Modal(E.value)),_.value.show()},Le=()=>{var t;const a={};return(t=r.value.TankName)!=null&&t.trim()||(a.TankName="Tank name is required"),r.value.StationID||(a.StationID="Please select a station"),r.value.ProductID||(a.ProductID="Please select a product"),(!r.value.Capacity||r.value.Capacity<=0)&&(a.Capacity="Capacity must be greater than zero"),(r.value.CurrentLevel===void 0||r.value.CurrentLevel===null||r.value.CurrentLevel<0)&&(a.CurrentLevel="Current level must be zero or greater"),r.value.CurrentLevel>r.value.Capacity&&(a.CurrentLevel="Current level cannot exceed capacity"),r.value.Status||(a.Status="Please select a status"),v.value=a,Object.keys(a).length===0},Pe=async()=>{if(Le()){M.value=!0;try{S.value?await D.put(`/Tanks/${r.value.TankID}`,r.value):await D.post("/Tanks",r.value),await ae(),_.value&&_.value.hide(),K.fire({title:S.value?"Tank Updated!":"Tank Created!",text:`Tank "${r.value.TankName}" has been ${S.value?"updated":"created"} successfully.`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}finally{M.value=!1}}},Fe=async a=>{if((await K.fire({title:"Delete Tank?",text:`Are you sure you want to delete "${a.TankName}"? This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel",confirmButtonColor:"#F1416C",cancelButtonColor:"#B5B5C3",reverseButtons:!0})).isConfirmed)try{await D.delete(`/Tanks/${a.TankID}`),await ae(),K.fire({title:"Deleted!",text:`Tank "${a.TankName}" has been deleted.`,icon:"success",toast:!0,position:"top-end",timer:3e3,showConfirmButton:!1})}catch{}},ze=a=>{w.value=a},Me=()=>{w.value<A.value&&w.value++},Ne=()=>{w.value>1&&w.value--};return Ae([f,N],()=>{ce()},{deep:!0}),Be(async()=>{await ae(),E.value&&(_.value=new bootstrap.Modal(E.value))}),Ue(()=>{_e()}),(a,t)=>(u(),c("div",Oe,[e("div",{class:"card card-flush"},[e("div",{class:"card-header py-5"},[t[11]||(t[11]=e("h3",{class:"card-title align-items-start flex-column"},[e("span",{class:"card-label fw-bold text-dark"},"Tank Management"),e("span",{class:"text-gray-400 mt-1 fw-semibold fs-6"},"Monitoring and managing fuel tank inventory")],-1)),e("div",{class:"card-toolbar"},[e("button",{onClick:se,class:"btn btn-primary d-flex align-items-center"},t[10]||(t[10]=[e("i",{class:"ki-duotone ki-plus fs-2 me-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),U(" Add Tank ")]))])])]),e("div",Re,[e("div",qe,[e("div",Ge,[e("div",We,[e("div",Ye,[t[13]||(t[13]=y('<div class="symbol symbol-50px me-5" data-v-4ef7c7e4><span class="symbol-label bg-light-primary" data-v-4ef7c7e4><i class="ki-duotone ki-oil-barrel fs-2x text-primary" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i></span></div>',1)),e("div",Ke,[e("span",He,n(ne.value),1),t[12]||(t[12]=e("span",{class:"text-gray-600 fw-semibold fs-6"},"Total Tanks",-1))])])])])]),e("div",Qe,[e("div",Je,[e("div",Xe,[e("div",Ze,[t[15]||(t[15]=y('<div class="symbol symbol-50px me-5" data-v-4ef7c7e4><span class="symbol-label bg-light-success" data-v-4ef7c7e4><i class="ki-duotone ki-water fs-2x text-success" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i></span></div>',1)),e("div",et,[e("span",tt,n(re(ee.value)),1),t[14]||(t[14]=e("span",{class:"text-gray-600 fw-semibold fs-6"},"Total Capacity",-1))])])])])]),e("div",at,[e("div",st,[e("div",lt,[e("div",ot,[t[17]||(t[17]=y('<div class="symbol symbol-50px me-5" data-v-4ef7c7e4><span class="symbol-label bg-light-info" data-v-4ef7c7e4><i class="ki-duotone ki-droplet fs-2x text-info" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i></span></div>',1)),e("div",nt,[e("span",it,n(re(ie.value)),1),t[16]||(t[16]=e("span",{class:"text-gray-600 fw-semibold fs-6"},"Current Stock",-1))])])])])]),e("div",rt,[e("div",dt,[e("div",ct,[e("div",ut,[t[19]||(t[19]=y('<div class="symbol symbol-50px me-5" data-v-4ef7c7e4><span class="symbol-label bg-light-warning" data-v-4ef7c7e4><i class="ki-duotone ki-percentage fs-2x text-warning" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i></span></div>',1)),e("div",vt,[e("span",ft,n(ve.value)+"%",1),t[18]||(t[18]=e("span",{class:"text-gray-600 fw-semibold fs-6"},"Utilization Rate",-1))])])])])])]),e("div",pt,[e("div",mt,[e("div",bt,[e("div",ht,[e("h3",gt,[t[20]||(t[20]=e("span",{class:"card-label fw-bold text-dark"},"Station Tank Overview",-1)),e("span",yt,n(pe.value)+" Stations | "+n(fe.value)+" Active Tanks",1)]),e("div",xt,[k(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>N.value=s),class:"form-select form-select-solid w-150px","data-control":"select2","data-hide-search":"true","aria-label":"Group chart by"},t[21]||(t[21]=[e("option",{value:"station"},"By Station",-1),e("option",{value:"product"},"By Product",-1),e("option",{value:"utilization"},"By Utilization",-1)]),512),[[P,N.value]])])]),e("div",wt,[t[23]||(t[23]=e("div",{id:"tank_levels_chart",style:{height:"350px"},class:"chart-container"},null,-1)),z.value?(u(),c("div",kt,t[22]||(t[22]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):x("",!0)])])]),e("div",_t,[e("div",Ct,[t[29]||(t[29]=e("div",{class:"card-header py-7"},[e("h3",{class:"card-title align-items-start flex-column"},[e("span",{class:"card-label fw-bold text-dark"},"Tank Categories"),e("span",{class:"text-gray-400 mt-1 fw-semibold fs-6"},"By Utilization Level")])],-1)),e("div",St,[t[28]||(t[28]=e("div",{id:"tank_categories_chart",style:{height:"200px"},class:"chart-container"},null,-1)),e("div",It,[e("div",Tt,[t[24]||(t[24]=y('<div class="d-flex align-items-center me-2" data-v-4ef7c7e4><span class="bullet bullet-vertical h-40px bg-danger me-3" data-v-4ef7c7e4></span><div class="flex-grow-1" data-v-4ef7c7e4><a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6" data-v-4ef7c7e4>Critical (&lt;20%)</a><span class="text-muted d-block fw-semibold" data-v-4ef7c7e4>Requires immediate refill</span></div></div>',1)),e("div",Dt,n(B.value.critical),1)]),e("div",Lt,[t[25]||(t[25]=y('<div class="d-flex align-items-center me-2" data-v-4ef7c7e4><span class="bullet bullet-vertical h-40px bg-warning me-3" data-v-4ef7c7e4></span><div class="flex-grow-1" data-v-4ef7c7e4><a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6" data-v-4ef7c7e4>Low (20-50%)</a><span class="text-muted d-block fw-semibold" data-v-4ef7c7e4>Schedule refill soon</span></div></div>',1)),e("div",Pt,n(B.value.low),1)]),e("div",Ft,[t[26]||(t[26]=y('<div class="d-flex align-items-center me-2" data-v-4ef7c7e4><span class="bullet bullet-vertical h-40px bg-info me-3" data-v-4ef7c7e4></span><div class="flex-grow-1" data-v-4ef7c7e4><a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6" data-v-4ef7c7e4>Good (50-80%)</a><span class="text-muted d-block fw-semibold" data-v-4ef7c7e4>Adequate supply</span></div></div>',1)),e("div",zt,n(B.value.good),1)]),e("div",Mt,[t[27]||(t[27]=y('<div class="d-flex align-items-center me-2" data-v-4ef7c7e4><span class="bullet bullet-vertical h-40px bg-success me-3" data-v-4ef7c7e4></span><div class="flex-grow-1" data-v-4ef7c7e4><a href="#" class="text-gray-800 text-hover-primary fw-bold fs-6" data-v-4ef7c7e4>Full (80%+)</a><span class="text-muted d-block fw-semibold" data-v-4ef7c7e4>Recently filled</span></div></div>',1)),e("div",Nt,n(B.value.full),1)])])])])])]),e("div",Et,[e("div",At,[e("div",Bt,[e("div",Ut,[e("h3",Vt,[t[30]||(t[30]=e("span",{class:"card-label fw-bold text-dark"},"Product Distribution",-1)),e("span",jt,n(be.value)+" Fuel Types",1)])]),t[31]||(t[31]=e("div",{class:"card-body pt-3"},[e("div",{id:"product_distribution_chart",style:{height:"300px"},class:"chart-container"})],-1))])]),t[32]||(t[32]=y('<div class="col-xl-6 col-12" data-v-4ef7c7e4><div class="card card-flush h-xl-100" data-v-4ef7c7e4><div class="card-header py-7" data-v-4ef7c7e4><h3 class="card-title align-items-start flex-column" data-v-4ef7c7e4><span class="card-label fw-bold text-dark" data-v-4ef7c7e4>Tank Utilization Map</span><span class="text-gray-400 mt-1 fw-semibold fs-6" data-v-4ef7c7e4>Real-time Capacity Status</span></h3></div><div class="card-body pt-3" data-v-4ef7c7e4><div id="utilization_heatmap_chart" style="height:300px;" class="chart-container" data-v-4ef7c7e4></div></div></div></div>',1))]),e("div",$t,[t[49]||(t[49]=e("div",{class:"card-header align-items-center pt-8 pb-0"},[e("h3",{class:"card-title align-items-start flex-column"},[e("span",{class:"card-label fw-bold text-dark"},"Tank Inventory"),e("span",{class:"text-gray-400 mt-1 fw-semibold fs-6"},"Manage and monitor your tanks")])],-1)),e("div",Ot,[e("div",Rt,[e("div",qt,[t[33]||(t[33]=e("i",{class:"ki-duotone ki-magnifier fs-3 position-absolute ms-4"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)),k(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>O.value=s),type:"text",class:"form-control form-control-solid w-250px ps-12",placeholder:"Search tanks...","aria-label":"Search tanks"},null,512),[[H,O.value]])])]),e("div",Gt,[k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>R.value=s),class:"form-select form-select-solid w-150px","data-control":"select2","data-hide-search":"true","aria-label":"Filter by station"},[t[34]||(t[34]=e("option",{value:""},"All Stations",-1)),(u(!0),c(V,null,j(me.value,s=>(u(),c("option",{key:s.StationID,value:s.StationID},n(s.StationName),9,Wt))),128))],512),[[P,R.value]]),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>q.value=s),class:"form-select form-select-solid w-125px","data-control":"select2","data-hide-search":"true","aria-label":"Filter by status"},t[35]||(t[35]=[e("option",{value:""},"All Status",-1),e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1),e("option",{value:"Maintenance"},"Maintenance",-1)]),512),[[P,q.value]]),e("button",{onClick:se,class:"btn btn-primary"},t[36]||(t[36]=[e("i",{class:"ki-duotone ki-plus fs-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),U(" Add Tank ")]))])]),e("div",Yt,[e("div",Kt,[z.value&&!f.value.length?(u(),c("div",Ht,t[37]||(t[37]=[e("div",{class:"d-flex justify-content-center my-10"},[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")])],-1)]))):x("",!0),!z.value&&!Z.value.length?(u(),c("div",Qt,[e("div",{class:"text-center my-10"},[t[39]||(t[39]=y('<i class="ki-duotone ki-oil-barrel fs-5tx text-gray-300 mb-5" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i><div class="fw-semibold fs-3 text-gray-600" data-v-4ef7c7e4>No tanks found</div><div class="text-gray-500 mt-3" data-v-4ef7c7e4>Try adjusting your search or filters</div>',3)),e("button",{onClick:se,class:"btn btn-primary mt-5"},t[38]||(t[38]=[e("i",{class:"ki-duotone ki-plus fs-2"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),U(" Add Your First Tank ")]))])])):x("",!0),(u(!0),c(V,null,j(Z.value,s=>(u(),c("div",{key:s.TankID,class:"col-12 col-md-6 col-xl-4"},[e("div",{class:g(["card h-100",s.Status==="Active"?"card-bordered border-success":s.Status==="Maintenance"?"card-bordered border-warning":"card-bordered"])},[e("div",Jt,[e("div",{class:g(["ribbon-label",ge(s.Status)])},n(s.Status),3),e("h3",Xt,[e("div",Zt,[e("div",ea,[e("span",{class:g(["symbol-label",we(s.ProductID)])},t[40]||(t[40]=[e("i",{class:"ki-duotone ki-oil-barrel fs-1 text-white"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]),2)]),e("div",ta,[e("span",aa,n(s.TankName),1),e("span",sa,n(W(s.StationID)),1)])])])]),e("div",la,[e("div",oa,[e("div",na,[e("div",ia,[t[41]||(t[41]=e("span",{class:"text-muted fw-semibold"},"Product",-1)),e("div",ra,[e("span",{class:g(["bullet bullet-dot me-2",ke(s.ProductID)])},null,2),e("span",da,n(Y(s.ProductID)),1)])]),e("div",ca,[t[42]||(t[42]=e("span",{class:"text-muted fw-semibold text-end"},"Capacity",-1)),e("span",ua,n(te(s.Capacity))+"L",1)])]),e("div",null,[e("div",va,[e("span",fa,"Current Level: "+n(te(s.CurrentLevel))+"L",1),e("span",{class:g(["fw-bold fs-6",xe(s)])},n(I(s))+"%",3)]),e("div",pa,[e("div",{class:g(["h-8px rounded",ye(s)]),style:je({width:I(s)+"%"}),role:"progressbar","aria-valuenow":I(s),"aria-valuemin":"0","aria-valuemax":"100"},null,14,ma)])]),e("div",ba,[e("div",ha,[t[43]||(t[43]=e("span",{class:"text-muted fw-semibold"},"Last Filled",-1)),e("span",ga,n(de(s.LastFilledDate)),1)]),e("div",ya,[t[44]||(t[44]=e("span",{class:"text-muted fw-semibold text-end"},"Created",-1)),e("span",xa,n(de(s.CreatedAt)),1)])])])]),e("div",wa,[e("button",{onClick:i=>De(s),class:"btn btn-light btn-active-light-primary btn-sm me-2"},t[45]||(t[45]=[e("i",{class:"ki-duotone ki-pencil fs-3"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1),U(" Edit ")]),8,ka),e("button",{onClick:i=>Fe(s),class:"btn btn-light btn-active-light-danger btn-sm"},t[46]||(t[46]=[y('<i class="ki-duotone ki-trash fs-3" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span><span class="path3" data-v-4ef7c7e4></span><span class="path4" data-v-4ef7c7e4></span><span class="path5" data-v-4ef7c7e4></span></i> Delete ',2)]),8,_a)])],2)]))),128))]),Z.value.length?(u(),c("div",Ca,[e("div",Sa," Showing "+n(X.value+1)+" to "+n(Math.min(oe.value,G.value.length))+" of "+n(G.value.length)+" tanks ",1),e("ul",Ia,[e("li",{class:g(["page-item",w.value===1?"disabled":""])},[e("a",{onClick:Q(Ne,["prevent"]),class:"page-link",href:"#","aria-label":"Previous"},t[47]||(t[47]=[e("i",{class:"ki-duotone ki-left fs-4"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]))],2),(u(!0),c(V,null,j(ue.value,s=>(u(),c("li",{key:s,class:g(["page-item",s===w.value?"active":""])},[e("a",{onClick:Q(i=>ze(s),["prevent"]),class:"page-link",href:"#"},n(s),9,Ta)],2))),128)),e("li",{class:g(["page-item",w.value===A.value?"disabled":""])},[e("a",{onClick:Q(Me,["prevent"]),class:"page-link",href:"#","aria-label":"Next"},t[48]||(t[48]=[e("i",{class:"ki-duotone ki-right fs-4"},[e("span",{class:"path1"}),e("span",{class:"path2"})],-1)]))],2)])])):x("",!0)])]),e("div",{class:"modal fade",id:"tankModal",tabindex:"-1","aria-hidden":"true",ref_key:"tankModalRef",ref:E},[e("div",Da,[e("div",La,[t[61]||(t[61]=y('<div class="modal-header pb-0 border-0 justify-content-end" data-v-4ef7c7e4><div class="btn btn-sm btn-icon btn-active-color-primary" data-bs-dismiss="modal" data-v-4ef7c7e4><i class="ki-duotone ki-cross fs-1" data-v-4ef7c7e4><span class="path1" data-v-4ef7c7e4></span><span class="path2" data-v-4ef7c7e4></span></i></div></div>',1)),e("div",Pa,[e("div",Fa,[e("h1",za,n(S.value?"Edit Tank":"Add New Tank"),1),e("div",Ma,n(S.value?"Modify tank details and inventory levels":"Enter tank details to add to your inventory"),1)]),e("form",{onSubmit:Q(Pe,["prevent"]),class:"form",novalidate:""},[e("div",Na,[t[50]||(t[50]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Tank Name"),e("i",{class:"fas fa-exclamation-circle ms-2 fs-7","data-bs-toggle":"tooltip",title:"Specify a unique tank name"})],-1)),k(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.TankName=s),type:"text",class:g(["form-control form-control-solid",{"is-invalid":v.value.TankName}]),placeholder:"Enter tank name",name:"tank-name"},null,2),[[H,r.value.TankName]]),v.value.TankName?(u(),c("div",Ea,n(v.value.TankName),1)):x("",!0)]),e("div",Aa,[e("div",Ba,[t[52]||(t[52]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Station")],-1)),k(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.value.StationID=s),class:g(["form-select form-select-solid",{"is-invalid":v.value.StationID}]),name:"station"},[t[51]||(t[51]=e("option",{value:""},"Select Station",-1)),(u(!0),c(V,null,j($.value,s=>(u(),c("option",{key:s.StationID,value:s.StationID},n(s.StationName),9,Ua))),128))],2),[[P,r.value.StationID]]),v.value.StationID?(u(),c("div",Va,n(v.value.StationID),1)):x("",!0)]),e("div",ja,[t[54]||(t[54]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Product")],-1)),k(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>r.value.ProductID=s),class:g(["form-select form-select-solid",{"is-invalid":v.value.ProductID}]),name:"product"},[t[53]||(t[53]=e("option",{value:""},"Select Product",-1)),(u(!0),c(V,null,j(he.value,s=>(u(),c("option",{key:s.ProductID,value:s.ProductID},n(s.Name),9,$a))),128))],2),[[P,r.value.ProductID]]),v.value.ProductID?(u(),c("div",Oa,n(v.value.ProductID),1)):x("",!0)])]),e("div",Ra,[e("div",qa,[t[55]||(t[55]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Capacity (L)")],-1)),k(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.value.Capacity=s),type:"number",class:g(["form-control form-control-solid",{"is-invalid":v.value.Capacity}]),placeholder:"Enter capacity in liters",name:"capacity",min:"0"},null,2),[[H,r.value.Capacity,void 0,{number:!0}]]),v.value.Capacity?(u(),c("div",Ga,n(v.value.Capacity),1)):x("",!0)]),e("div",Wa,[t[56]||(t[56]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Current Level (L)")],-1)),k(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>r.value.CurrentLevel=s),type:"number",class:g(["form-control form-control-solid",{"is-invalid":v.value.CurrentLevel}]),placeholder:"Enter current level in liters",name:"current-level",min:"0"},null,2),[[H,r.value.CurrentLevel,void 0,{number:!0}]]),v.value.CurrentLevel?(u(),c("div",Ya,n(v.value.CurrentLevel),1)):x("",!0)])]),e("div",Ka,[t[58]||(t[58]=e("label",{class:"d-flex align-items-center fs-6 fw-semibold mb-2"},[e("span",{class:"required"},"Status")],-1)),k(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>r.value.Status=s),class:g(["form-select form-select-solid",{"is-invalid":v.value.Status}]),name:"status"},t[57]||(t[57]=[e("option",{value:"Active"},"Active",-1),e("option",{value:"Inactive"},"Inactive",-1),e("option",{value:"Maintenance"},"Maintenance",-1)]),2),[[P,r.value.Status]]),v.value.Status?(u(),c("div",Ha,n(v.value.Status),1)):x("",!0)]),e("div",Qa,[t[60]||(t[60]=e("button",{type:"button",class:"btn btn-light me-3","data-bs-dismiss":"modal"}," Cancel ",-1)),e("button",{type:"submit",class:"btn btn-primary",disabled:M.value},[M.value?x("",!0):(u(),c("span",Xa,n(S.value?"Update Tank":"Save Tank"),1)),M.value?(u(),c("span",Za,t[59]||(t[59]=[U(" Please wait... "),e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1)]))):x("",!0)],8,Ja)])],32)])])])],512)]))}},ls=Ee(es,[["__scopeId","data-v-4ef7c7e4"]]);export{ls as default};
